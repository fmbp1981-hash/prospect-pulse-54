(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[896],{29376:function(e,a,s){Promise.resolve().then(s.bind(s,74043))},74043:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return eh}});var t=s(57437),r=s(2265),i=s(12381),o=s(40279),n=s(75060),c=s(79820),l=s(83774),d=s(24156),u=s(30401),m=s(93448),h=s(46343),x=s(73247);s(74291);let p=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(h.mY,{ref:a,className:(0,m.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...r})});p.displayName=h.mY.displayName;let y=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,t.jsx)(x.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,t.jsx)(h.mY.Input,{ref:a,className:(0,m.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...r})]})});y.displayName=h.mY.Input.displayName;let g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(h.mY.List,{ref:a,className:(0,m.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...r})});g.displayName=h.mY.List.displayName;let f=r.forwardRef((e,a)=>(0,t.jsx)(h.mY.Empty,{ref:a,className:"py-6 text-center text-sm",...e}));f.displayName=h.mY.Empty.displayName;let j=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(h.mY.Group,{ref:a,className:(0,m.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...r})});j.displayName=h.mY.Group.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(h.mY.Separator,{ref:a,className:(0,m.cn)("-mx-1 h-px bg-border",s),...r})}).displayName=h.mY.Separator.displayName;let v=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(h.mY.Item,{ref:a,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",s),...r})});v.displayName=h.mY.Item.displayName;var N=s(12749);function b(e){let{options:a,value:s,onValueChange:o,placeholder:n="Selecione uma op\xe7\xe3o",searchPlaceholder:c="Buscar...",emptyMessage:l="Nenhum resultado encontrado.",disabled:h=!1,loading:x=!1,className:b}=e,[w,B]=r.useState(!1),S=a.find(e=>e.value===s);return(0,t.jsxs)(N.J2,{open:w,onOpenChange:B,children:[(0,t.jsx)(N.xo,{asChild:!0,children:(0,t.jsxs)(i.z,{variant:"outline",role:"combobox","aria-expanded":w,disabled:h||x,className:(0,m.cn)("w-full justify-between",!s&&"text-muted-foreground",b),children:[x?(0,t.jsx)("span",{children:"Carregando..."}):S?S.label:n,(0,t.jsx)(d.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(N.yk,{className:"w-[var(--radix-popover-trigger-width)] max-h-[300px] p-0 pointer-events-auto bg-background z-50",align:"start",children:(0,t.jsxs)(p,{children:[(0,t.jsx)(y,{placeholder:c,className:"h-9"}),(0,t.jsxs)(g,{className:"max-h-[240px] overflow-y-auto",children:[(0,t.jsx)(f,{children:l}),(0,t.jsx)(j,{children:a.map(e=>(0,t.jsxs)(v,{value:e.label,onSelect:()=>{o(e.value),B(!1)},children:[(0,t.jsx)(u.Z,{className:(0,m.cn)("mr-2 h-4 w-4",s===e.value?"opacity-100":"opacity-0")}),e.label]},e.value))})]})]})})]})}let w=e=>{let{value:a,onChange:s}=e,[i,c]=(0,r.useState)([]),[d,u]=(0,r.useState)([]),[m,h]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{"Brasil"===a.country?(h(!0),fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados?orderBy=nome").then(e=>e.json()).then(e=>{c(e),h(!1)}).catch(e=>{console.error("Error fetching states:",e),h(!1)})):c([])},[a.country]),(0,r.useEffect)(()=>{if(a.state&&"Brasil"===a.country){let e=i.find(e=>e.nome===a.state);e&&(p(!0),fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados/".concat(e.id,"/municipios?orderBy=nome")).then(e=>e.json()).then(e=>{u(e),p(!1)}).catch(e=>{console.error("Error fetching cities:",e),p(!1)}))}else u([])},[a.state,a.country,i]);let y=i.map(e=>({value:e.nome,label:e.nome})),g=d.map(e=>({value:e.nome,label:e.nome}));return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n._,{htmlFor:"country",children:"Pa\xeds"}),(0,t.jsx)(b,{options:[{value:"Brasil",label:"Brasil"},{value:"Portugal",label:"Portugal"},{value:"Estados Unidos",label:"Estados Unidos"}],value:a.country,onValueChange:e=>{s({country:e,state:"",city:"",neighborhood:""})},placeholder:"Selecione o pa\xeds",searchPlaceholder:"Digite para buscar pa\xeds...",emptyMessage:"Nenhum pa\xeds encontrado."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n._,{htmlFor:"state",children:"Estado"}),(0,t.jsx)(b,{options:y,value:a.state,onValueChange:e=>{s({...a,state:e,city:"",neighborhood:""})},placeholder:"Selecione o estado",searchPlaceholder:"Digite para buscar estado...",emptyMessage:"Nenhum estado encontrado.",disabled:!a.country,loading:m})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n._,{htmlFor:"city",children:"Cidade"}),(0,t.jsx)(b,{options:g,value:a.city,onValueChange:e=>{s({...a,city:e,neighborhood:""})},placeholder:"Selecione a cidade",searchPlaceholder:"Digite para buscar cidade...",emptyMessage:"Nenhuma cidade encontrada.",disabled:!a.state,loading:x})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n._,{htmlFor:"neighborhood",children:"Bairro/Regi\xe3o (opcional)"}),(0,t.jsx)(o.I,{id:"neighborhood",placeholder:"Ex: Centro, Zona Sul...",value:a.neighborhood||"",onChange:e=>{s({...a,neighborhood:e.target.value})},disabled:!a.city})]})]}),a.city&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg text-sm",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4 text-primary"}),(0,t.jsxs)("span",{className:"font-medium",children:[a.neighborhood&&"".concat(a.neighborhood,", "),a.city,", ",a.state," - ",a.country]})]})]})};var B=s(14438),S=s(69076),C=s(58896),P=s(41217),A=s(51817),E=s(17168),R=s(69174),z=s(82023),M=s(32489);let Z=[{category:"Alimenta\xe7\xe3o",niches:["Restaurantes","Pizzarias","Lanchonetes","Cafeterias","Padarias","A\xe7ougues","Confeitarias","Food Trucks","Hamburguerias","Sushi Bar","Churrascarias","Sorveterias","Distribuidora de Bebidas","Hortifruti"]},{category:"Sa\xfade e Bem-Estar",niches:["Cl\xednicas M\xe9dicas","Cl\xednicas Odontol\xf3gicas","Academias","Fisioterapia","Farm\xe1cias","Psic\xf3logos","Nutricionistas","Laborat\xf3rios","Fonoaudiologia","Quiropraxia","Terapia Ocupacional","Pilates","Yoga","Crossfit"]},{category:"Beleza e Est\xe9tica",niches:["Sal\xf5es de Beleza","Barbearias","Cl\xednicas de Est\xe9tica","Manicures","Est\xfadios de Tatuagem","Spa","Depila\xe7\xe3o","Design de Sobrancelhas","Maquiadores","Podologia"]},{category:"Com\xe9rcio e Varejo",niches:["Lojas de Roupas","Supermercados","Pet Shops","Lojas de Cal\xe7ados","Lojas de Eletr\xf4nicos","Mercados","Farm\xe1cias","Papelarias","\xd3ticas","Lojas de Brinquedos","Lojas de Cosm\xe9ticos","Lojas de Presentes","Tabacarias","Floriculturas"]},{category:"Servi\xe7os",niches:["Advocacia","Contabilidade","Imobili\xe1rias","Seguros","Consultoria","Marketing Digital","Assist\xeancia T\xe9cnica","Chaveiros","Dedetizadora","Desentupidora","Limpeza P\xf3s-Obra","Lavanderias","Costureiras","Gr\xe1ficas R\xe1pidas"]},{category:"Constru\xe7\xe3o e Reforma",niches:["Construtoras","Arquitetura","Marcenarias","Serralheria","Material de Constru\xe7\xe3o","Pintores","Vidra\xe7arias","Marmorarias","Eletricistas","Encanadores","Gesseiros","Lojas de Tintas","Loca\xe7\xe3o de Equipamentos"]},{category:"Automotivo",niches:["Oficinas Mec\xe2nicas","Lava-R\xe1pidos","Auto El\xe9tricas","Concession\xe1rias","Autope\xe7as","Funilaria","Borracharias","Est\xe9tica Automotiva","Blindadoras","Lojas de Pneus","Insulfilm"]},{category:"Educa\xe7\xe3o",niches:["Escolas","Cursos de Idiomas","Escolas de M\xfasica","Escolas de Dan\xe7a","Cursos T\xe9cnicos","Universidades","Refor\xe7o Escolar","Cursos Profissionalizantes","Escolas de Inform\xe1tica","Escolas de Nata\xe7\xe3o","Escolas de Artes Marciais","Ber\xe7\xe1rios"]},{category:"Eventos e Festas",niches:["Buffets","Casas de Eventos","Cerimonialistas","Decora\xe7\xe3o de Festas","Aluguel de Trajes","Fot\xf3grafos","DJs e Sonoriza\xe7\xe3o","Bolos e Doces para Festas"]},{category:"Tecnologia e Marketing",niches:["Assist\xeancia T\xe9cnica Inform\xe1tica","Lojas de Inform\xe1tica","Desenvolvimento de Software","Coworking","Ag\xeancias de Marketing","Gest\xe3o de Tr\xe1fego","Web Design","Ag\xeancias de SEO","Provedores de Internet"]},{category:"Ind\xfastria",niches:["Metal\xfargica","T\xeaxtil","Gr\xe1fica","Confec\xe7\xe3o","Ind\xfastria de Alimentos","Ind\xfastria Qu\xedmica","Usinagem","Embalagens"]},{category:"Entretenimento e Lazer",niches:["Cinemas","Teatros","Casas de Shows","Boates","Bares","Parques de Divers\xe3o","Escape Rooms","Boliches","Fliperamas"]},{category:"Turismo e Hotelaria",niches:["Hot\xe9is","Pousadas","Hostels","Ag\xeancias de Viagem","Guias Tur\xedsticos","Aluguel de Carros","Traslados","Parques Aqu\xe1ticos","Camping"]},{category:"Agricultura e Pecu\xe1ria",niches:["Agropecu\xe1rias","Veterin\xe1rias","Ra\xe7\xe3o Animal","Insumos Agr\xedcolas","Tratores","Irriga\xe7\xe3o","Fazendas","Viveiros de Plantas"]},{category:"Transportes e Log\xedstica",niches:["Transportadoras","Motoboys","Uber/Taxi","Mudan\xe7as","Estacionamentos","Auto Escolas","Despachantes","Entregas R\xe1pidas"]},{category:"M\xf3veis e Decora\xe7\xe3o",niches:["Lojas de M\xf3veis","Design de Interiores","Cortinas e Persianas","Tapetes","Quadros e Molduras","Ilumina\xe7\xe3o","Paisagismo","Colch\xf5es"]},{category:"Esportes",niches:["Lojas de Esportes","Quadras Esportivas","Personal Trainers","Clubes Esportivos","Piscinas","Surf Shops","Bike Shops","Artigos de Pesca"]}],k=[{region:"Sudeste",locations:[{city:"S\xe3o Paulo",state:"SP",country:"Brasil"},{city:"Rio de Janeiro",state:"RJ",country:"Brasil"},{city:"Belo Horizonte",state:"MG",country:"Brasil"},{city:"Campinas",state:"SP",country:"Brasil"},{city:"Santos",state:"SP",country:"Brasil"},{city:"Guarulhos",state:"SP",country:"Brasil"},{city:"Vit\xf3ria",state:"ES",country:"Brasil"},{city:"Niter\xf3i",state:"RJ",country:"Brasil"},{city:"Uberl\xe2ndia",state:"MG",country:"Brasil"},{city:"S\xe3o Bernardo do Campo",state:"SP",country:"Brasil"},{city:"Santo Andr\xe9",state:"SP",country:"Brasil"},{city:"Osasco",state:"SP",country:"Brasil"},{city:"Sorocaba",state:"SP",country:"Brasil"},{city:"Ribeir\xe3o Preto",state:"SP",country:"Brasil"},{city:"S\xe3o Jos\xe9 dos Campos",state:"SP",country:"Brasil"},{city:"Juiz de Fora",state:"MG",country:"Brasil"},{city:"Contagem",state:"MG",country:"Brasil"},{city:"Campos dos Goytacazes",state:"RJ",country:"Brasil"},{city:"Nova Igua\xe7u",state:"RJ",country:"Brasil"},{city:"Duque de Caxias",state:"RJ",country:"Brasil"},{city:"Vila Velha",state:"ES",country:"Brasil"},{city:"Serra",state:"ES",country:"Brasil"},{city:"Bauru",state:"SP",country:"Brasil"},{city:"Piracicaba",state:"SP",country:"Brasil"},{city:"Jundia\xed",state:"SP",country:"Brasil"},{city:"Franca",state:"SP",country:"Brasil"},{city:"Petr\xf3polis",state:"RJ",country:"Brasil"},{city:"Volta Redonda",state:"RJ",country:"Brasil"},{city:"Betim",state:"MG",country:"Brasil"},{city:"Montes Claros",state:"MG",country:"Brasil"}]},{region:"Sul",locations:[{city:"Curitiba",state:"PR",country:"Brasil"},{city:"Porto Alegre",state:"RS",country:"Brasil"},{city:"Florian\xf3polis",state:"SC",country:"Brasil"},{city:"Joinville",state:"SC",country:"Brasil"},{city:"Londrina",state:"PR",country:"Brasil"},{city:"Caxias do Sul",state:"RS",country:"Brasil"},{city:"Maring\xe1",state:"PR",country:"Brasil"},{city:"Ponta Grossa",state:"PR",country:"Brasil"},{city:"Cascavel",state:"PR",country:"Brasil"},{city:"Foz do Igua\xe7u",state:"PR",country:"Brasil"},{city:"Pelotas",state:"RS",country:"Brasil"},{city:"Canoas",state:"RS",country:"Brasil"},{city:"Santa Maria",state:"RS",country:"Brasil"},{city:"Blumenau",state:"SC",country:"Brasil"},{city:"Chapec\xf3",state:"SC",country:"Brasil"},{city:"Crici\xfama",state:"SC",country:"Brasil"},{city:"Itaja\xed",state:"SC",country:"Brasil"},{city:"S\xe3o Jos\xe9 dos Pinhais",state:"PR",country:"Brasil"},{city:"Passo Fundo",state:"RS",country:"Brasil"},{city:"Rio Grande",state:"RS",country:"Brasil"},{city:"Balne\xe1rio Cambori\xfa",state:"SC",country:"Brasil"}]},{region:"Centro-Oeste",locations:[{city:"Bras\xedlia",state:"DF",country:"Brasil"},{city:"Goi\xe2nia",state:"GO",country:"Brasil"},{city:"Campo Grande",state:"MS",country:"Brasil"},{city:"Cuiab\xe1",state:"MT",country:"Brasil"},{city:"Aparecida de Goi\xe2nia",state:"GO",country:"Brasil"},{city:"An\xe1polis",state:"GO",country:"Brasil"},{city:"Dourados",state:"MS",country:"Brasil"},{city:"Rondon\xf3polis",state:"MT",country:"Brasil"},{city:"V\xe1rzea Grande",state:"MT",country:"Brasil"},{city:"Sinop",state:"MT",country:"Brasil"},{city:"Rio Verde",state:"GO",country:"Brasil"},{city:"Tr\xeas Lagoas",state:"MS",country:"Brasil"}]},{region:"Nordeste",locations:[{city:"Salvador",state:"BA",country:"Brasil"},{city:"Recife",state:"PE",country:"Brasil"},{city:"Fortaleza",state:"CE",country:"Brasil"},{city:"Natal",state:"RN",country:"Brasil"},{city:"Macei\xf3",state:"AL",country:"Brasil"},{city:"S\xe3o Lu\xeds",state:"MA",country:"Brasil"},{city:"Jo\xe3o Pessoa",state:"PB",country:"Brasil"},{city:"Aracaju",state:"SE",country:"Brasil"},{city:"Teresina",state:"PI",country:"Brasil"},{city:"Feira de Santana",state:"BA",country:"Brasil"},{city:"Vit\xf3ria da Conquista",state:"BA",country:"Brasil"},{city:"Cama\xe7ari",state:"BA",country:"Brasil"},{city:"Jaboat\xe3o dos Guararapes",state:"PE",country:"Brasil"},{city:"Olinda",state:"PE",country:"Brasil"},{city:"Petrolina",state:"PE",country:"Brasil"},{city:"Caucaia",state:"CE",country:"Brasil"},{city:"Juazeiro do Norte",state:"CE",country:"Brasil"},{city:"Campina Grande",state:"PB",country:"Brasil"},{city:"Mossor\xf3",state:"RN",country:"Brasil"},{city:"Imperatriz",state:"MA",country:"Brasil"},{city:"Caruaru",state:"PE",country:"Brasil"},{city:"Ilh\xe9us",state:"BA",country:"Brasil"},{city:"Itabuna",state:"BA",country:"Brasil"},{city:"Sobral",state:"CE",country:"Brasil"}]},{region:"Norte",locations:[{city:"Manaus",state:"AM",country:"Brasil"},{city:"Bel\xe9m",state:"PA",country:"Brasil"},{city:"Porto Velho",state:"RO",country:"Brasil"},{city:"Palmas",state:"TO",country:"Brasil"},{city:"Macap\xe1",state:"AP",country:"Brasil"},{city:"Boa Vista",state:"RR",country:"Brasil"},{city:"Rio Branco",state:"AC",country:"Brasil"},{city:"Santar\xe9m",state:"PA",country:"Brasil"},{city:"Ananindeua",state:"PA",country:"Brasil"},{city:"Marab\xe1",state:"PA",country:"Brasil"},{city:"Aragua\xedna",state:"TO",country:"Brasil"},{city:"Parauapebas",state:"PA",country:"Brasil"},{city:"Ji-Paran\xe1",state:"RO",country:"Brasil"}]}],D=e=>{let{selectedNiche:a,onSelect:s}=e,[o,n]=(0,r.useState)(!1),c=e=>{s(e),setTimeout(()=>{n(!1)},400)};return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>n(!o),className:"text-xs",children:[(0,t.jsx)(z.Z,{className:"h-3 w-3 mr-1"}),o?"Ocultar":"Sele\xe7\xe3o R\xe1pida"]}),a&&(0,t.jsxs)(R.C,{variant:"secondary",className:"text-xs gap-1 animate-fade-in",children:[(0,t.jsx)(u.Z,{className:"h-3 w-3"}),a,(0,t.jsx)("button",{type:"button",onClick:()=>{s("")},className:"ml-1 hover:bg-destructive/20 rounded-full p-0.5 transition-colors",children:(0,t.jsx)(M.Z,{className:"h-3 w-3"})})]})]}),o&&(0,t.jsx)("div",{className:"p-4 border border-border rounded-lg bg-card/50 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)(E.mQ,{defaultValue:Z[0].category,className:"w-full",children:[(0,t.jsx)(E.dr,{className:"w-full flex-wrap h-auto gap-1 bg-muted/50",children:Z.map(e=>(0,t.jsx)(E.SP,{value:e.category,className:"text-xs px-3 py-1.5",children:e.category},e.category))}),Z.map(e=>(0,t.jsx)(E.nU,{value:e.category,className:"mt-4",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:e.niches.map(e=>{let s=a===e;return(0,t.jsxs)(i.z,{type:"button",variant:s?"default":"outline",size:"sm",onClick:()=>c(e),className:(0,m.cn)("justify-start text-xs h-auto py-2.5 px-3 transition-all hover:scale-102",s&&"bg-primary text-primary-foreground shadow-card"),children:[s&&(0,t.jsx)(u.Z,{className:"h-3 w-3 mr-1.5 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate",children:e})]},e)})})},e.category))]})})]})};var q=s(962);let F=q.fC,I=q.wy,O=q.Fw;var _=s(40875);let L={AC:"Acre",AL:"Alagoas",AP:"Amap\xe1",AM:"Amazonas",BA:"Bahia",CE:"Cear\xe1",DF:"Distrito Federal",ES:"Esp\xedrito Santo",GO:"Goi\xe1s",MA:"Maranh\xe3o",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Par\xe1",PB:"Para\xedba",PR:"Paran\xe1",PE:"Pernambuco",PI:"Piau\xed",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rond\xf4nia",RR:"Roraima",SC:"Santa Catarina",SP:"S\xe3o Paulo",SE:"Sergipe",TO:"Tocantins"},T=e=>{let{selectedLocation:a,onSelect:s}=e,[o,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)([]),h=e=>{let a=L[e.state]||e.state;s({city:e.city,state:a,country:e.country,neighborhood:""}),setTimeout(()=>{n(!1)},400)},x=e=>{d(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},p=(e,s)=>(null==a?void 0:a.city)===e&&(null==a?void 0:a.state)===s,y=(null==a?void 0:a.city)&&(null==a?void 0:a.state)?"".concat(a.city,", ").concat(a.state):null;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>n(!o),className:"text-xs",children:[(0,t.jsx)(l.Z,{className:"h-3 w-3 mr-1"}),o?"Ocultar":"Cidades Populares"]}),y&&(0,t.jsxs)(R.C,{variant:"secondary",className:"text-xs gap-1 animate-fade-in",children:[(0,t.jsx)(u.Z,{className:"h-3 w-3"}),y,(0,t.jsx)("button",{type:"button",onClick:()=>{s({country:"",state:"",city:"",neighborhood:""})},className:"ml-1 hover:bg-destructive/20 rounded-full p-0.5 transition-colors",children:(0,t.jsx)(M.Z,{className:"h-3 w-3"})})]})]}),o&&(0,t.jsx)("div",{className:"p-4 border border-border rounded-lg bg-card/50 backdrop-blur-sm animate-fade-in space-y-2",children:k.map(e=>{let a=c.includes(e.region);return(0,t.jsxs)(F,{open:a,onOpenChange:()=>x(e.region),children:[(0,t.jsx)(I,{asChild:!0,children:(0,t.jsxs)(i.z,{type:"button",variant:"ghost",size:"sm",className:"w-full justify-between text-sm font-semibold hover:bg-accent/50",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4 text-primary"}),e.region]}),(0,t.jsx)(_.Z,{className:(0,m.cn)("h-4 w-4 transition-transform",a&&"rotate-180")})]})}),(0,t.jsx)(O,{className:"mt-2",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 pl-6",children:e.locations.map(e=>{let a=p(e.city,e.state);return(0,t.jsxs)(i.z,{type:"button",variant:a?"default":"outline",size:"sm",onClick:()=>h(e),className:(0,m.cn)("justify-start text-xs h-auto py-2.5 px-3 transition-all hover:scale-102",a&&"bg-primary text-primary-foreground shadow-card"),children:[a&&(0,t.jsx)(u.Z,{className:"h-3 w-3 mr-1.5 flex-shrink-0"}),(0,t.jsxs)("span",{className:"truncate",children:[e.city,", ",e.state]})]},"".concat(e.city,"-").concat(e.state))})})})]},e.region)})})]})};var G=s(1072),V=s(14362);let Y=e=>{let{onSearch:a,lastSearch:s}=e,[d,u]=(0,r.useState)(!1),{user:m}=(0,V.a)(),[h,p]=(0,r.useState)({niche:"",location:{country:"",state:"",city:"",neighborhood:""},quantity:50}),y=async e=>{if(e.preventDefault(),!h.niche||!h.location.city){B.Am.error("Preencha todos os campos obrigat\xf3rios");return}if(h.quantity<1||h.quantity>500){B.Am.error("A quantidade deve estar entre 1 e 500");return}u(!0);let s=B.Am.loading("Iniciando prospec\xe7\xe3o no Google Places...",{description:"Buscando at\xe9 ".concat(h.quantity," leads..."),duration:1/0});try{console.log("\uD83D\uDCE1 Chamando edge function de prospec\xe7\xe3o...",h);let{data:e,error:t}=await G.O.functions.invoke("prospection",{body:{...h,user_id:null==m?void 0:m.id}});if(t)throw console.error("❌ Erro retornado pela edge function:",t),t;if(console.log("✅ Resposta completa da prospec\xe7\xe3o:",e),!(null==e?void 0:e.success))throw Error((null==e?void 0:e.error)||"Erro desconhecido na prospec\xe7\xe3o");let{insertedCount:r,recurrentCount:i,total:o,failedProcessing:n,failedInsertion:c}=e,l="Prospec\xe7\xe3o conclu\xedda! ".concat(o," leads processados."),d=[];r>0&&d.push("".concat(r," novos")),i>0&&d.push("".concat(i," recorrentes")),d.length>0&&(l+=" (".concat(d.join(", "),")")),n>0||c>0?(l+=". Avisos: ".concat(n||0," falhas no processamento, ").concat(c||0," falhas na inser\xe7\xe3o"),console.warn("⚠️ Prospec\xe7\xe3o com avisos:",e.details),B.Am.warning(l,{id:s,description:"Alguns leads podem n\xe3o ter sido processados. Verifique os logs.",duration:6e3})):B.Am.success(l,{id:s,description:"Todos os leads foram processados com sucesso!",duration:5e3}),console.log("\uD83D\uDCCA Detalhes da prospec\xe7\xe3o:",{insertedCount:r,recurrentCount:i,total:o,failedProcessing:n,failedInsertion:c,details:e.details}),a({...h,savedCount:r}),p({niche:"",location:{country:"",state:"",city:"",neighborhood:""},quantity:50})}catch(a){console.error("❌ Erro na prospec\xe7\xe3o:",a);let e=a instanceof Error?a.message:"Erro desconhecido";B.Am.error("Erro ao realizar prospec\xe7\xe3o",{id:s,description:e,duration:6e3})}finally{u(!1)}};return(0,t.jsxs)(c.Zb,{className:"shadow-elevated border-primary/10 animate-fade-in",children:[(0,t.jsxs)(c.Ol,{className:"space-y-1",children:[(0,t.jsxs)(c.ll,{className:"text-2xl flex items-center gap-2",children:[(0,t.jsx)(x.Z,{className:"h-6 w-6 text-primary"}),"Nova Prospec\xe7\xe3o"]}),(0,t.jsx)(c.SZ,{children:"Configure sua busca de leads no Google Places"})]}),(0,t.jsxs)(c.aY,{children:[s&&(0,t.jsxs)("div",{className:"mb-6 p-4 rounded-lg bg-muted/50 border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(R.C,{variant:"outline",className:"text-xs",children:"\xdaltima pesquisa"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(s.timestamp).toLocaleDateString("pt-BR")})]}),(0,t.jsxs)(i.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{if(!s)return;let e="string"==typeof s.location?{country:"",state:"",city:s.location,neighborhood:""}:s.location;p({niche:s.niche,location:e,quantity:s.quantity}),B.Am.success("Dados da \xfaltima pesquisa carregados!",{description:"Voc\xea pode editar os campos antes de iniciar a prospec\xe7\xe3o."})},className:"h-8",children:[(0,t.jsx)(S.Z,{className:"h-3 w-3 mr-1.5"}),"Usar novamente"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Nicho:"}),(0,t.jsx)("p",{className:"font-medium mt-0.5",children:s.niche})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Local:"}),(0,t.jsx)("p",{className:"font-medium mt-0.5",children:"string"==typeof s.location?s.location:s.location.city})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Quantidade:"}),(0,t.jsxs)("p",{className:"font-medium mt-0.5",children:[s.quantity," leads"]})]})]})]}),(0,t.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(n._,{htmlFor:"niche",className:"flex items-center gap-2",children:[(0,t.jsx)(C.Z,{className:"h-4 w-4 text-muted-foreground"}),"Nicho de Neg\xf3cios"]}),(0,t.jsx)(D,{selectedNiche:h.niche,onSelect:e=>p({...h,niche:e})}),(0,t.jsx)(o.I,{id:"niche",placeholder:"Ou digite manualmente...",value:h.niche,onChange:e=>p({...h,niche:e.target.value}),required:!0,className:"transition-all focus:shadow-card"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(n._,{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"}),"Localiza\xe7\xe3o"]}),(0,t.jsx)(T,{selectedLocation:h.location,onSelect:e=>p({...h,location:e})}),(0,t.jsx)(w,{value:h.location,onChange:e=>p({...h,location:e})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(n._,{htmlFor:"quantity",className:"flex items-center gap-2",children:[(0,t.jsx)(P.Z,{className:"h-4 w-4 text-muted-foreground"}),"Quantidade de Leads"]}),(0,t.jsx)(o.I,{id:"quantity",type:"number",min:"1",max:"500",value:h.quantity,onChange:e=>p({...h,quantity:parseInt(e.target.value)||0}),required:!0,className:"transition-all focus:shadow-card"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"M\xe1ximo: 500 leads por busca"})]})]}),(0,t.jsx)(i.z,{type:"submit",disabled:d,className:"w-full gradient-primary hover:opacity-90 transition-all shadow-card hover:shadow-elevated",size:"lg",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.Z,{className:"mr-2 h-5 w-5 animate-spin"}),"Iniciando prospec\xe7\xe3o..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{className:"mr-2 h-5 w-5"}),"Iniciar Prospec\xe7\xe3o"]})})]})]})]})};var H=s(68245),J=s(65621),U=s(18930),Q=s(82718),W=s(92934),$=s(91723),X=s(50091),K=s(96362),ee=s(82431),ea=s(27107),es=s(34862),et=s(99376),er=s(30767);let ei=e=>{if("string"==typeof e)return e;let a=[];return e.neighborhood&&a.push(e.neighborhood),e.city&&a.push(e.city),e.state&&a.push(e.state),e.country&&a.push(e.country),a.join(", ")||"N\xe3o especificada"},eo=e=>{let{searches:a,onClearHistory:s,onReprocess:o,isLoading:n=!1}=e,d=(0,et.useRouter)(),[u,m]=(0,r.useState)(new Set),[h,x]=(0,r.useState)({}),[p,y]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[j,v]=(0,r.useState)(new Set),[N,b]=(0,r.useState)({});(0,r.useEffect)(()=>{let e=async()=>{let e={};for(let s of a)e[s.id]={count:0,loading:!0,error:!1};for(let s of(b(e),a)){if(void 0!==s.savedCount){b(e=>({...e,[s.id]:{count:s.savedCount,loading:!1,error:!1}}));continue}try{let e=ei(s.location),a=new Date(s.timestamp),t=new Date(a.getTime()-36e5),r=new Date(a.getTime()+36e5),{count:i,error:o}=await G.O.from("leads_prospeccao").select("*",{count:"exact",head:!0}).eq("categoria",s.niche).ilike("cidade","%".concat(e.split(",")[0].trim(),"%")).gte("created_at",t.toISOString()).lte("created_at",r.toISOString());if(o)throw o;b(e=>({...e,[s.id]:{count:i||0,loading:!1,error:!1}}))}catch(e){console.error("Error loading count for search ".concat(s.id,":"),e),b(e=>({...e,[s.id]:{count:0,loading:!1,error:!0}}))}}};a.length>0&&e();let s={};a.forEach(e=>{s[e.id]={status:"not_sent"}}),x(s)},[a]);let w=e=>{let a=new Set(u);a.has(e)?a.delete(e):a.add(e),m(a)},S=async()=>{B.Am.error("Funcionalidade descontinuada",{description:"Use o envio de WhatsApp na tabela de leads"})},E=async e=>{if(o){v(a=>new Set(a).add(e.id));try{await o(e),B.Am.success("Prospec\xe7\xe3o reprocessada com sucesso!")}catch(e){B.Am.error("Erro ao reprocessar prospec\xe7\xe3o",{description:e instanceof Error?e.message:"Erro desconhecido"})}finally{v(a=>{let s=new Set(a);return s.delete(e.id),s})}}},z=e=>{switch(e){case"completed":return"bg-accent text-accent-foreground";case"processing":return"bg-primary text-primary-foreground";case"error":return"bg-destructive text-destructive-foreground";default:return"bg-secondary text-secondary-foreground"}},M=e=>{switch(e){case"completed":return"Conclu\xedda";case"processing":return"Processando";case"error":return"Erro";default:return"Pendente"}};if(n)return(0,t.jsxs)(c.Zb,{className:"shadow-card animate-fade-in",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"text-2xl flex items-center gap-2",children:[(0,t.jsx)(J.Z,{className:"h-6 w-6 text-primary"}),"Hist\xf3rico de Buscas"]}),(0,t.jsx)(c.SZ,{children:"Carregando seu hist\xf3rico..."})]}),(0,t.jsx)(c.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"h-5 w-24 bg-muted animate-pulse rounded"}),(0,t.jsx)("div",{className:"h-5 w-32 bg-muted animate-pulse rounded"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),(0,t.jsx)("div",{className:"h-4 w-3/4 bg-muted animate-pulse rounded"})]})]},e))})})]});if(0===a.length)return(0,t.jsxs)(c.Zb,{className:"shadow-card animate-fade-in",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"text-2xl flex items-center gap-2",children:[(0,t.jsx)(J.Z,{className:"h-6 w-6 text-primary"}),"Hist\xf3rico de Buscas"]}),(0,t.jsx)(c.SZ,{children:"Suas prospec\xe7\xf5es anteriores aparecer\xe3o aqui"})]}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,t.jsx)(J.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"Nenhuma prospec\xe7\xe3o realizada ainda"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Fa\xe7a sua primeira busca acima"})]})})]});let Z=a.filter(e=>{var a;return(null===(a=h[e.id])||void 0===a?void 0:a.status)!=="sent"}).length;return(0,t.jsxs)(c.Zb,{className:"shadow-card animate-fade-in",children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(c.ll,{className:"text-2xl flex items-center gap-2",children:[(0,t.jsx)(J.Z,{className:"h-6 w-6 text-primary"}),"Hist\xf3rico de Buscas"]}),(0,t.jsxs)(c.SZ,{children:[a.length," ",1===a.length?"prospec\xe7\xe3o realizada":"prospec\xe7\xf5es realizadas",Z>0&&(0,t.jsxs)("span",{className:"ml-2 text-primary",children:["• ",Z," n\xe3o enviada(s)"]})]})]}),(0,t.jsxs)(er.aR,{children:[(0,t.jsx)(er.vW,{asChild:!0,children:(0,t.jsx)(i.z,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:(0,t.jsx)(U.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(er._T,{children:[(0,t.jsxs)(er.fY,{children:[(0,t.jsx)(er.f$,{children:"Apagar Hist\xf3rico de Prospec\xe7\xf5es"}),(0,t.jsxs)(er.yT,{children:["Tem certeza que deseja apagar todo o hist\xf3rico local de prospec\xe7\xf5es? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("strong",{children:"Nota:"})," Isso apenas remove o hist\xf3rico da interface. Os leads no CRM n\xe3o ser\xe3o afetados."]})]}),(0,t.jsxs)(er.xo,{children:[(0,t.jsx)(er.le,{children:"Cancelar"}),(0,t.jsx)(er.OL,{onClick:()=>{s(),B.Am.success("Hist\xf3rico apagado com sucesso")},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Apagar Hist\xf3rico"})]})]})]})]})}),(0,t.jsxs)(c.aY,{children:[Z>0&&(0,t.jsxs)("div",{className:"mb-4 p-4 bg-primary/5 rounded-lg border border-primary/20 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(H.X,{id:"select-all",checked:u.size===Z&&Z>0,onCheckedChange:()=>{let e=a.filter(e=>{var a;return(null===(a=h[e.id])||void 0===a?void 0:a.status)!=="sent"}).map(e=>e.id);u.size===e.length?m(new Set):m(new Set(e))}}),(0,t.jsxs)("label",{htmlFor:"select-all",className:"text-sm font-medium cursor-pointer",children:["Selecionar todas n\xe3o enviadas (",Z,")"]})]}),(0,t.jsxs)(R.C,{variant:"outline",className:"text-xs",children:[u.size," selecionada(s)"]})]}),u.size>0&&(0,t.jsx)(i.z,{onClick:S,disabled:g,className:"w-full",size:"lg",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando mensagens..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Q.Z,{className:"mr-2 h-4 w-4"}),"Enviar Mensagens (",u.size,")"]})})]}),(0,t.jsx)("div",{className:"space-y-4",children:a.map(e=>{var a,s,r,n,c,m,x;let p=h[e.id],y=(null==p?void 0:p.status)==="sent";return(0,t.jsxs)("div",{className:"border rounded-lg p-4 hover:border-primary/50 transition-all hover:shadow-card",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[!y&&(0,t.jsx)(H.X,{id:"select-".concat(e.id),checked:u.has(e.id),onCheckedChange:()=>w(e.id)}),(0,t.jsx)(R.C,{className:z(e.status),children:M(e.status)}),y&&(0,t.jsxs)(R.C,{variant:"outline",className:"bg-green-50 text-green-700 border-green-300",children:[(0,t.jsx)(W.Z,{className:"h-3 w-3 mr-1"}),"WhatsApp Enviado"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,t.jsx)($.Z,{className:"h-3 w-3"}),(0,ea.WU)(new Date(e.timestamp),"dd/MM/yyyy '\xe0s' HH:mm",{locale:es.F})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(C.Z,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{className:"font-medium",children:"Nicho:"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:e.niche})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{className:"font-medium",children:"Localiza\xe7\xe3o:"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:ei(e.location)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(P.Z,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{className:"font-medium",children:"Quantidade:"}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[e.quantity," leads"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(X.Z,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{className:"font-medium",children:"Salvos no CRM:"}),(null===(a=N[e.id])||void 0===a?void 0:a.loading)?(0,t.jsxs)(R.C,{variant:"secondary",className:"gap-1",children:[(0,t.jsx)(A.Z,{className:"h-3 w-3 animate-spin"}),"Carregando..."]}):(null===(s=N[e.id])||void 0===s?void 0:s.error)?(0,t.jsx)(R.C,{variant:"destructive",className:"gap-1",children:"Erro ao carregar"}):(0,t.jsxs)(R.C,{variant:(null===(r=N[e.id])||void 0===r?void 0:r.count)>0?"default":"secondary",className:(null===(n=N[e.id])||void 0===n?void 0:n.count)>0?"bg-success hover:bg-success/90":"",children:[(null===(c=N[e.id])||void 0===c?void 0:c.count)||0," lead(s)"]})]})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t flex gap-2",children:[(null===(m=N[e.id])||void 0===m?void 0:m.count)>0&&(0,t.jsxs)(i.z,{variant:"default",size:"sm",onClick:()=>{let a=ei(e.location);d.push("/leads?categoria=".concat(encodeURIComponent(e.niche),"&cidade=").concat(encodeURIComponent(a.split(",")[0].trim()))),B.Am.success("Redirecionando para tabela de leads...")},className:"flex-1",children:[(0,t.jsx)(K.Z,{className:"h-4 w-4 mr-2"}),"Ver Leads (",null===(x=N[e.id])||void 0===x?void 0:x.count,")"]}),o&&(0,t.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>E(e),disabled:j.has(e.id),className:"flex-1",children:j.has(e.id)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Reprocessando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ee.Z,{className:"h-4 w-4 mr-2"}),"Reprocessar"]})})]})]},e.id)})})]})]})};var en=s(95805);let ec=()=>{let{user:e}=(0,V.a)(),[a,s]=(0,r.useState)({totalLeads:0,totalSearches:0,totalSaved:0}),[i,o]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{if(e)try{let{count:e}=await G.O.from("leads_prospeccao").select("*",{count:"exact",head:!0}),{count:a}=await G.O.from("search_history").select("*",{count:"exact",head:!0});s({totalLeads:e||0,totalSearches:a||0,totalSaved:e||0})}catch(e){console.error("Error fetching stats:",e)}finally{o(!1)}})()},[e]),i)?(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},e))}):(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8 animate-fade-in",children:[(0,t.jsx)(c.Zb,{className:"bg-primary/5 border-primary/10 shadow-sm hover:shadow-md transition-all",children:(0,t.jsxs)(c.aY,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:(0,t.jsx)(en.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:"Total de Leads"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-foreground",children:a.totalLeads.toLocaleString()})]})]})}),(0,t.jsx)(c.Zb,{className:"bg-accent/5 border-accent/10 shadow-sm hover:shadow-md transition-all",children:(0,t.jsxs)(c.aY,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-accent/10 flex items-center justify-center text-accent",children:(0,t.jsx)(x.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:"Buscas Realizadas"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-foreground",children:a.totalSearches.toLocaleString()})]})]})}),(0,t.jsx)(c.Zb,{className:"bg-success/5 border-success/10 shadow-sm hover:shadow-md transition-all hidden md:block",children:(0,t.jsxs)(c.aY,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-success/10 flex items-center justify-center text-success",children:(0,t.jsx)(X.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:"Base de Dados"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-foreground",children:a.totalSaved.toLocaleString()})]})]})})]})};var el=s(11239),ed=s(70525),eu=s(6076);let em={async getHistory(){let{data:e,error:a}=await G.O.from("search_history").select("*").order("created_at",{ascending:!1});if(a)throw console.error("Error fetching history:",a),a;return(e||[]).map(e=>({id:e.id,niche:e.niche,location:e.location,quantity:e.quantity,timestamp:new Date(e.created_at),status:e.status,savedCount:e.saved_count}))},async saveSearch(e){var a;let{data:s,error:t}=await G.O.from("search_history").insert({niche:e.niche,location:e.location,quantity:e.quantity,status:e.status,saved_count:e.savedCount||0,user_id:e.user_id||(null===(a=(await G.O.auth.getUser()).data.user)||void 0===a?void 0:a.id)}).select().single();if(t)throw console.error("Error saving search:",t),t;return{id:s.id,niche:s.niche,location:s.location,quantity:s.quantity,timestamp:new Date(s.created_at),status:s.status,savedCount:s.saved_count}},async clearHistory(){let{error:e}=await G.O.from("search_history").delete().neq("id","00000000-0000-0000-0000-000000000000");if(e)throw console.error("Error clearing history:",e),e},async deleteSearch(e){let{error:a}=await G.O.from("search_history").delete().eq("id",e);if(a)throw console.error("Error deleting search:",a),a}};function eh(){let[e,a]=(0,r.useState)([]),{user:s}=(0,V.a)(),[i,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{if(s)try{let e=await em.getHistory();a(e)}catch(e){console.error("Failed to load history:",e),B.Am.error("Erro ao carregar hist\xf3rico")}finally{o(!1)}})()},[s]);let n=async e=>{let t=Date.now().toString(),r={id:t,...e,timestamp:new Date,status:"completed",savedCount:e.savedCount};a(e=>[r,...e]);try{let r=await em.saveSearch({niche:e.niche,location:e.location,quantity:e.quantity,status:"completed",savedCount:e.savedCount,user_id:null==s?void 0:s.id});a(e=>e.map(e=>e.id===t?r:e))}catch(e){console.error("Failed to save search history:",e),B.Am.warning("Pesquisa realizada, mas erro ao salvar no hist\xf3rico")}},c=async()=>{try{await em.clearHistory(),a([]),B.Am.success("Hist\xf3rico apagado com sucesso")}catch(e){console.error("Failed to clear history:",e),B.Am.error("Erro ao apagar hist\xf3rico")}},l=async s=>{let t=B.Am.loading("Reprocessando prospec\xe7\xe3o...",{description:"Buscando at\xe9 ".concat(s.quantity," leads novamente..."),duration:1/0});try{let{data:r,error:i}=await G.O.functions.invoke("prospection",{body:{niche:s.niche,location:s.location,quantity:s.quantity}});if(i)throw i;B.Am.success("Prospec\xe7\xe3o reprocessada com sucesso!",{id:t,description:"".concat(r.count," leads encontrados e salvos no banco de dados."),duration:5e3});let o=e.map(e=>e.id===s.id?{...e,timestamp:new Date,status:"processing"}:e);a(o)}catch(e){throw console.error("Erro ao reprocessar prospec\xe7\xe3o:",e),B.Am.error("Erro ao reprocessar prospec\xe7\xe3o",{id:t,description:e instanceof Error?e.message:"Erro desconhecido",duration:6e3}),e}};return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("section",{className:"text-center mb-12 animate-fade-in relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent opacity-50 blur-3xl"}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-medium mb-6 hover:bg-primary/15 transition-colors cursor-default",children:[(0,t.jsx)(z.Z,{className:"h-4 w-4"}),"Nova Vers\xe3o 2.0 Dispon\xedvel"]}),(0,t.jsxs)("h2",{className:"text-4xl md:text-5xl font-bold mb-6 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-foreground to-foreground/70",children:["Encontre Seus Leads Ideais",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-primary",children:"Em Segundos"})]}),(0,t.jsx)("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8 leading-relaxed",children:"Busque automaticamente neg\xf3cios no Google Places, enrique\xe7a com IA e crie seu banco de dados de leads qualificados para vendas."}),(0,t.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,t.jsx)(ec,{})})]}),(0,t.jsxs)("section",{className:"grid md:grid-cols-3 gap-6 mb-12 animate-fade-in",children:[(0,t.jsxs)("div",{className:"p-6 rounded-xl bg-card border shadow-sm hover:shadow-md transition-shadow group",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:bg-primary/20 transition-colors",children:(0,t.jsx)(X.Z,{className:"h-6 w-6 text-primary"})}),(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Google Places API"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Acesse milh\xf5es de empresas reais com dados verificados"})]}),(0,t.jsxs)("div",{className:"p-6 rounded-xl bg-card border shadow-sm hover:shadow-md transition-shadow group",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:bg-primary/20 transition-colors",children:(0,t.jsx)(el.Z,{className:"h-6 w-6 text-primary"})}),(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Automa\xe7\xe3o Inteligente"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Gere mensagens personalizadas com IA e dispare via WhatsApp"})]}),(0,t.jsxs)("div",{className:"p-6 rounded-xl bg-card border shadow-sm hover:shadow-md transition-shadow group",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:bg-primary/20 transition-colors",children:(0,t.jsx)(ed.Z,{className:"h-6 w-6 text-primary"})}),(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Dashboard Anal\xedtico"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Acompanhe m\xe9tricas de convers\xe3o em tempo real"})]})]}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,t.jsx)("div",{children:(0,t.jsx)(Y,{onSearch:n,lastSearch:e[0]})}),(0,t.jsx)("div",{children:(0,t.jsx)(eo,{searches:e,onClearHistory:c,onReprocess:l,isLoading:i})})]}),(0,t.jsxs)("section",{className:"mt-20 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Funcionalidades da Plataforma"}),(0,t.jsx)("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Ferramentas poderosas para automatizar sua prospec\xe7\xe3o e aumentar suas vendas"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"p-6 rounded-xl border bg-card shadow-sm hover:shadow-md transition-all group",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:(0,t.jsx)(ed.Z,{className:"h-6 w-6 text-primary"})}),(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["Dashboard",(0,t.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-success/10 text-success border border-success/20",children:"Ativo"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Visualize m\xe9tricas de convers\xe3o, gr\xe1ficos interativos e performance em tempo real"})]}),(0,t.jsxs)("div",{className:"p-6 rounded-xl border bg-card shadow-sm hover:shadow-md transition-all group",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-lg bg-accent/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:(0,t.jsx)(el.Z,{className:"h-6 w-6 text-accent"})}),(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["Enriquecimento IA",(0,t.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-success/10 text-success border border-success/20",children:"Novo"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Gera\xe7\xe3o autom\xe1tica de mensagens personalizadas e an\xe1lise de dados com IA"})]}),(0,t.jsxs)("div",{className:"p-6 rounded-xl border bg-card shadow-sm hover:shadow-md transition-all group",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-lg bg-warning/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:(0,t.jsx)(eu.Z,{className:"h-6 w-6 text-warning"})}),(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["Campanhas",(0,t.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-warning/10 text-warning border border-warning/20",children:"Pr\xf3xima Fase"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Crie sequ\xeancias de mensagens e automa\xe7\xf5es de follow-up para seus leads"})]}),(0,t.jsxs)("div",{className:"p-6 rounded-xl border bg-card shadow-sm hover:shadow-md transition-all group",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-lg bg-muted flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:(0,t.jsx)(X.Z,{className:"h-6 w-6 text-muted-foreground"})}),(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["Integra\xe7\xe3o CRM",(0,t.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-muted text-muted-foreground border border-border",children:"Futuro"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Conecte com Pipedrive, HubSpot e RD Station para sincroniza\xe7\xe3o autom\xe1tica"})]})]})]})]})}},30767:function(e,a,s){"use strict";s.d(a,{OL:function(){return g},_T:function(){return m},aR:function(){return c},f$:function(){return p},fY:function(){return h},le:function(){return f},vW:function(){return l},xo:function(){return x},yT:function(){return y}});var t=s(57437),r=s(2265),i=s(7880),o=s(93448),n=s(12381);let c=i.fC,l=i.xz,d=i.h_,u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:a})});u.displayName=i.aV.displayName;let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsxs)(d,{children:[(0,t.jsx)(u,{}),(0,t.jsx)(i.VY,{ref:a,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});m.displayName=i.VY.displayName;let h=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};h.displayName="AlertDialogHeader";let x=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};x.displayName="AlertDialogFooter";let p=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.Dx,{ref:a,className:(0,o.cn)("text-lg font-semibold",s),...r})});p.displayName=i.Dx.displayName;let y=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.dk,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",s),...r})});y.displayName=i.dk.displayName;let g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.aU,{ref:a,className:(0,o.cn)((0,n.d)(),s),...r})});g.displayName=i.aU.displayName;let f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.$j,{ref:a,className:(0,o.cn)((0,n.d)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});f.displayName=i.$j.displayName},68245:function(e,a,s){"use strict";s.d(a,{X:function(){return c}});var t=s(57437),r=s(2265),i=s(9270),o=s(30401),n=s(93448);let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.fC,{ref:a,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,t.jsx)(i.z$,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})})})});c.displayName=i.fC.displayName},12749:function(e,a,s){"use strict";s.d(a,{J2:function(){return n},xo:function(){return c},yk:function(){return l}});var t=s(57437),r=s(2265),i=s(51777),o=s(93448);let n=i.fC,c=i.xz,l=r.forwardRef((e,a)=>{let{className:s,align:r="center",sideOffset:n=4,...c}=e;return(0,t.jsx)(i.h_,{children:(0,t.jsx)(i.VY,{ref:a,align:r,sideOffset:n,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...c})})});l.displayName=i.VY.displayName}},function(e){e.O(0,[457,918,318,250,923,400,706,209,916,325,871,971,117,744],function(){return e(e.s=29376)}),_N_E=e.O()}]);