(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4],{96484:function(e,t,a){Promise.resolve().then(a.bind(a,71202))},71202:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return et}});var s=a(57437),r=a(2265),n=a(98239),o=a(12381),l=a(51817),i=a(25466),d=a(82431),c=a(14438),u=a(79820),m=a(47625),x=a(75169),h=a(3574),f=a(20407),p=a(8147),g=a(22190),v=a(77031),j=a(97059),b=a(62994),y=a(31699),w=a(55112),N=a(21047),C=a(70525),S=a(3085),A=a(95805),E=a(82718),z=a(92934),Z=a(58896),_=a(69174);function O(e){let{title:t,value:a,description:r,trend:n,icon:o,iconColor:l="text-primary"}=e;return(0,s.jsxs)(u.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(u.ll,{className:"text-sm font-medium text-muted-foreground",children:t}),(0,s.jsx)(o,{className:"h-5 w-5 ".concat(l)})]}),(0,s.jsxs)(u.aY,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold",children:a}),r&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:r}),n&&(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-sm ".concat(n&&0!==n.value?n.isPositive?"text-green-500":"text-red-500":"text-muted-foreground"),children:[n?0===n.value?(0,s.jsx)(N.Z,{className:"h-4 w-4 text-muted-foreground"}):n.isPositive?(0,s.jsx)(C.Z,{className:"h-4 w-4 text-green-500"}):(0,s.jsx)(S.Z,{className:"h-4 w-4 text-red-500"}):null,(0,s.jsxs)("span",{className:"font-medium",children:[Math.abs(n.value),"% vs per\xedodo anterior"]})]})]})]})}function L(e){let{totalLeads:t,leadsWithWhatsApp:a,whatsappSent:r,whatsappFailed:n,conversionRate:o,avgLeadsPerDay:l,trends:i}=e,d=r-n,c=r>0?(d/r*100).toFixed(1):0;return(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsx)(O,{title:"Total de Leads",value:t.toLocaleString(),description:"".concat(l.toFixed(1)," leads/dia em m\xe9dia"),icon:A.Z,iconColor:"text-blue-500",trend:i?{value:i.totalLeads,isPositive:i.totalLeads>0}:void 0}),(0,s.jsx)(O,{title:"Leads com WhatsApp",value:a.toLocaleString(),description:"".concat((a/t*100).toFixed(1),"% do total"),icon:E.Z,iconColor:"text-green-500"}),(0,s.jsx)(O,{title:"Mensagens Enviadas",value:r.toLocaleString(),description:"".concat(d," sucesso, ").concat(n," falhas"),icon:z.Z,iconColor:"text-purple-500",trend:i?{value:i.whatsappSent,isPositive:i.whatsappSent>0}:void 0}),(0,s.jsx)(O,{title:"Taxa de Sucesso WA",value:"".concat(c,"%"),description:"".concat(d," de ").concat(r," enviados"),icon:Z.Z,iconColor:"text-orange-500"})]})}function M(e){let{totalLeads:t,leadsWithWhatsApp:a,whatsappSent:r,whatsappSuccess:n}=e,o=[{name:"Leads Prospectados",value:t,percentage:100,color:"bg-blue-500"},{name:"Com WhatsApp",value:a,percentage:a/t*100,color:"bg-green-500"},{name:"Mensagens Enviadas",value:r,percentage:r/t*100,color:"bg-purple-500"},{name:"Envios Bem-Sucedidos",value:n,percentage:n/t*100,color:"bg-orange-500"}];return(0,s.jsxs)(u.Zb,{children:[(0,s.jsxs)(u.Ol,{children:[(0,s.jsx)(u.ll,{children:"Funil de Convers\xe3o"}),(0,s.jsx)(u.SZ,{children:"Visualize a jornada dos leads desde a prospec\xe7\xe3o at\xe9 o envio bem-sucedido"})]}),(0,s.jsx)(u.aY,{children:(0,s.jsx)("div",{className:"space-y-4",children:o.map((e,t)=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(_.C,{variant:"outline",children:e.value.toLocaleString()}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:[e.percentage.toFixed(1),"%"]})]})]}),(0,s.jsx)("div",{className:"relative h-8 bg-muted rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full ".concat(e.color," transition-all duration-500 flex items-center justify-center text-white text-xs font-medium"),style:{width:"".concat(e.percentage,"%")},children:e.percentage>15&&"".concat(e.percentage.toFixed(0),"%")})}),t<o.length-1&&(0,s.jsxs)("div",{className:"text-xs text-muted-foreground text-center",children:["↓ ",(o[t+1].value/e.value*100).toFixed(1),"% convertido"]})]},e.name))})})]})}var W=a(31047),k=a(12749),F=a(92451),D=a(10407),I=a(58721),R=a(93448);function P(e){let{className:t,classNames:a,showOutsideDays:r=!0,...n}=e;return(0,s.jsx)(I._W,{showOutsideDays:r,className:(0,R.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,R.cn)((0,o.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,R.cn)((0,o.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,s.jsx)(F.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,s.jsx)(D.Z,{className:"h-4 w-4"})}},...n})}P.displayName="Calendar";var B=a(27107),T=a(34862);function K(e){let{selectedPeriod:t,onPeriodChange:a,customRange:r,onCustomRangeChange:n}=e;return(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Per\xedodo:"}),(0,s.jsx)("div",{className:"flex gap-2",children:[{value:"7d",label:"\xdaltimos 7 dias"},{value:"30d",label:"\xdaltimos 30 dias"},{value:"90d",label:"\xdaltimos 90 dias"},{value:"all",label:"Todo per\xedodo"},{value:"custom",label:"Personalizado"}].map(e=>"custom"===e.value?(0,s.jsxs)(k.J2,{children:[(0,s.jsx)(k.xo,{asChild:!0,children:(0,s.jsxs)(o.z,{variant:"custom"===t?"default":"outline",size:"sm",className:"gap-2",children:[(0,s.jsx)(W.Z,{className:"h-4 w-4"}),"custom"===t&&(null==r?void 0:r.from)?"".concat((0,B.WU)(r.from,"dd/MM",{locale:T.F})," - ").concat(r.to?(0,B.WU)(r.to,"dd/MM",{locale:T.F}):"..."):e.label]})}),(0,s.jsx)(k.yk,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(P,{mode:"range",selected:r,onSelect:e=>{n&&(n(e),(null==e?void 0:e.from)&&a("custom"))},numberOfMonths:2,locale:T.F})})]},e.value):(0,s.jsx)(o.z,{variant:t===e.value?"default":"outline",size:"sm",onClick:()=>a(e.value),children:e.label},e.value))})]})}var Y=a(21156),U=a(56940),J=a(54061),V=a(56942),X=a(5341),H=a(54886),q=a(60936);function G(e){let{leads:t,days:a=30}=e,r=(0,V.b)(new Date),n=(0,V.b)((0,X.k)(r,a-1)),o=(0,H.D)({start:n,end:r}).map(e=>{let a=(0,B.WU)(e,"yyyy-MM-dd"),s=t.filter(e=>{if(!e.data)return!1;try{return(0,B.WU)((0,q.D)(e.data),"yyyy-MM-dd")===a}catch(e){return!1}}),r=s.filter(e=>"sent"===e.statusMsgWA||"failed"===e.statusMsgWA).length;return{date:(0,B.WU)(e,"dd/MM",{locale:T.F}),fullDate:e,leads:s.length,whatsapp:r}}),l=o.reduce((e,t)=>e+t.leads,0),i=o.reduce((e,t)=>e+t.whatsapp,0),d=(l/a).toFixed(1);return(0,s.jsxs)(u.Zb,{children:[(0,s.jsxs)(u.Ol,{children:[(0,s.jsx)(u.ll,{children:"Evolu\xe7\xe3o Temporal"}),(0,s.jsxs)(u.SZ,{children:["Leads prospectados e mensagens enviadas nos \xfaltimos ",a," dias",(0,s.jsxs)("span",{className:"ml-2 text-sm font-medium",children:["(M\xe9dia: ",d," leads/dia)"]})]})]}),(0,s.jsxs)(u.aY,{children:[(0,s.jsx)(m.h,{width:"100%",height:300,children:(0,s.jsxs)(Y.w,{data:o,children:[(0,s.jsx)(U.q,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,s.jsx)(j.K,{dataKey:"date",tick:{fontSize:12},className:"text-muted-foreground"}),(0,s.jsx)(b.B,{tick:{fontSize:12},className:"text-muted-foreground"}),(0,s.jsx)(p.u,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"hsl(var(--foreground))"}}),(0,s.jsx)(g.D,{}),(0,s.jsx)(J.x,{type:"monotone",dataKey:"leads",stroke:"#3b82f6",strokeWidth:2,name:"Leads Prospectados",dot:{fill:"#3b82f6",r:4},activeDot:{r:6}}),(0,s.jsx)(J.x,{type:"monotone",dataKey:"whatsapp",stroke:"#10b981",strokeWidth:2,name:"WhatsApp Enviados",dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4 p-4 bg-muted rounded-lg",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:l}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Total de Leads"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-500",children:i}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"WhatsApp Enviados"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-purple-500",children:[l>0?(i/l*100).toFixed(1):0,"%"]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Taxa de Convers\xe3o"})]})]})]})]})}var $=a(91696),Q=a(14742);let ee=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function et(){let[e,t]=(0,r.useState)([]),[a,N]=(0,r.useState)(!0),[C,S]=(0,r.useState)(!1),[A,E]=(0,r.useState)("30d"),[z,Z]=(0,r.useState)(),{role:_,isAdmin:O}=(0,$.j)(),W=async()=>{N(!0);try{let e=await w.gZ.syncAllLeads();e.success?(t(e.leads),c.Am.success("Dashboard atualizado!")):c.Am.error("Erro ao carregar dados")}catch(e){console.error("Error loading leads:",e),c.Am.error("Erro ao carregar m\xe9tricas")}N(!1)},k=async()=>{S(!0),await W(),S(!1)};(0,r.useEffect)(()=>{W()},[]);let F=(0,r.useMemo)(()=>{let t=function(e,t){let a=new Date;switch(e){case"7d":return{from:new Date(a.getTime()-6048e5),to:a};case"30d":return{from:new Date(a.getTime()-2592e6),to:a};case"90d":return{from:new Date(a.getTime()-7776e6),to:a};case"all":default:return;case"custom":return t}}(A,z);return t?e.filter(e=>!!e.data&&function(e,t){if(!t)return!0;let a=new Date(e);return(!t.from||!(a<t.from))&&(!t.to||!(a>t.to))}(e.data,t)):e},[e,A,z]),D=(0,r.useMemo)(()=>{let e=F.length,t=F.filter(e=>e.whatsapp&&""!==e.whatsapp.trim()).length,a=F.filter(e=>"sent"===e.statusMsgWA||"failed"===e.statusMsgWA).length,s=F.filter(e=>"failed"===e.statusMsgWA).length,r=new Map;F.forEach(e=>{let t=e.status||"Sem Status";r.set(t,(r.get(t)||0)+1)});let n=Array.from(r.entries()).map(e=>{let[t,a]=e;return{status:t,count:a}}).sort((e,t)=>t.count-e.count),o=new Map;F.forEach(e=>{let t=e.categoria||"Sem Categoria";o.set(t,(o.get(t)||0)+1)});let l=Array.from(o.entries()).map(e=>{let[t,a]=e;return{categoria:t,count:a}}).sort((e,t)=>t.count-e.count),i=new Map;F.forEach(e=>{let t=e.cidade||"Sem Cidade";i.set(t,(i.get(t)||0)+1)});let d=Array.from(i.entries()).map(e=>{let[t,a]=e;return{cidade:t,count:a}}).sort((e,t)=>t.count-e.count);return{total:e,withWhatsApp:t,whatsappRate:e>0?Math.round(t/e*100):0,whatsappSent:a,whatsappSuccess:a-s,whatsappFailed:s,leadsByStatus:n,leadsByCategory:l.slice(0,10),leadsByCity:d.slice(0,10)}},[F]);return a?(0,s.jsx)("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(l.Z,{className:"h-12 w-12 animate-spin text-primary"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Carregando Dashboard..."})]})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsxs)("h1",{className:"text-4xl font-bold flex items-center gap-3",children:[(0,s.jsx)(i.Z,{className:"h-10 w-10 text-primary"}),"Dashboard"]}),(0,s.jsx)(Q.R,{})]}),(0,s.jsx)("p",{className:"text-xl text-muted-foreground",children:"Vis\xe3o geral de leads e m\xe9tricas de convers\xe3o"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(K,{selectedPeriod:A,onPeriodChange:E,customRange:z,onCustomRangeChange:Z}),(0,s.jsxs)(o.z,{variant:"outline",onClick:k,disabled:C,className:"gap-2",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 ".concat(C?"animate-spin":"")}),C?"Atualizando...":"Atualizar"]})]})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)(u.Zb,{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20",children:[(0,s.jsx)(u.Ol,{className:"pb-2",children:(0,s.jsx)(u.ll,{className:"text-sm font-medium text-muted-foreground",children:"Total de Leads"})}),(0,s.jsx)(u.aY,{children:(0,s.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:D.total})})]}),(0,s.jsxs)(u.Zb,{className:"bg-gradient-to-br from-green-500/10 to-green-600/5 border-green-500/20",children:[(0,s.jsx)(u.Ol,{className:"pb-2",children:(0,s.jsx)(u.ll,{className:"text-sm font-medium text-muted-foreground",children:"Com WhatsApp"})}),(0,s.jsxs)(u.aY,{children:[(0,s.jsx)("p",{className:"text-3xl font-bold text-green-600",children:D.withWhatsApp}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[D.whatsappRate,"% do total"]})]})]}),(0,s.jsxs)(u.Zb,{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20",children:[(0,s.jsx)(u.Ol,{className:"pb-2",children:(0,s.jsx)(u.ll,{className:"text-sm font-medium text-muted-foreground",children:"Mensagens Enviadas"})}),(0,s.jsxs)(u.aY,{children:[(0,s.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:D.whatsappSuccess}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[D.whatsappFailed," com falha"]})]})]}),(0,s.jsxs)(u.Zb,{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/5 border-orange-500/20",children:[(0,s.jsx)(u.Ol,{className:"pb-2",children:(0,s.jsx)(u.ll,{className:"text-sm font-medium text-muted-foreground",children:"Categorias"})}),(0,s.jsx)(u.aY,{children:(0,s.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:D.leadsByCategory.length})})]})]}),(0,s.jsx)(L,{totalLeads:D.total,leadsWithWhatsApp:D.withWhatsApp,whatsappSent:D.whatsappSent,whatsappFailed:D.whatsappFailed,conversionRate:D.whatsappRate,avgLeadsPerDay:D.total/30}),(0,s.jsx)(M,{totalLeads:D.total,leadsWithWhatsApp:D.withWhatsApp,whatsappSent:D.whatsappSent,whatsappSuccess:D.whatsappSuccess}),(0,s.jsx)(G,{leads:F}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,s.jsx)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:(0,s.jsxs)(u.Zb,{children:[(0,s.jsx)(u.Ol,{children:(0,s.jsx)(u.ll,{children:"Leads por Status"})}),(0,s.jsx)(u.aY,{children:(0,s.jsx)("div",{className:"h-[300px]",children:(0,s.jsx)(m.h,{width:"100%",height:"100%",children:(0,s.jsxs)(x.u,{children:[(0,s.jsx)(h.b,{data:D.leadsByStatus,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"count",nameKey:"status",label:e=>{let{status:t,percent:a}=e;return"".concat(t,": ").concat((100*a).toFixed(0),"%")},children:D.leadsByStatus.map((e,t)=>(0,s.jsx)(f.b,{fill:ee[t%ee.length]},"cell-".concat(t)))}),(0,s.jsx)(p.u,{}),(0,s.jsx)(g.D,{})]})})})})]})}),(0,s.jsx)(n.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:(0,s.jsxs)(u.Zb,{children:[(0,s.jsx)(u.Ol,{children:(0,s.jsx)(u.ll,{children:"Top 10 Categorias"})}),(0,s.jsx)(u.aY,{children:(0,s.jsx)("div",{className:"h-[300px]",children:(0,s.jsx)(m.h,{width:"100%",height:"100%",children:(0,s.jsxs)(v.v,{data:D.leadsByCategory,layout:"vertical",margin:{left:100},children:[(0,s.jsx)(j.K,{type:"number"}),(0,s.jsx)(b.B,{type:"category",dataKey:"categoria",width:100,tick:{fontSize:12}}),(0,s.jsx)(p.u,{}),(0,s.jsx)(y.$,{dataKey:"count",fill:"#3b82f6",radius:[0,4,4,0]})]})})})})]})})]}),(0,s.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,s.jsxs)(u.Zb,{children:[(0,s.jsx)(u.Ol,{children:(0,s.jsx)(u.ll,{children:"Top 10 Cidades"})}),(0,s.jsx)(u.aY,{children:(0,s.jsx)("div",{className:"h-[300px]",children:(0,s.jsx)(m.h,{width:"100%",height:"100%",children:(0,s.jsxs)(v.v,{data:D.leadsByCity,children:[(0,s.jsx)(j.K,{dataKey:"cidade",tick:{fontSize:12}}),(0,s.jsx)(b.B,{}),(0,s.jsx)(p.u,{}),(0,s.jsx)(y.$,{dataKey:"count",fill:"#10b981",radius:[4,4,0,0]})]})})})})]})})]})}},14742:function(e,t,a){"use strict";a.d(t,{R:function(){return u}});var s=a(57437),r=a(69174),n=a(91696),o=a(95443),l=a(84286),i=a(51884),d=a(42208);let c={admin:l.Z,operador:i.Z,visualizador:d.Z};function u(e){let{showIcon:t=!0,variant:a="default",className:l}=e,{role:i,isLoading:d}=(0,n.j)();if(d)return(0,s.jsx)(r.C,{variant:"outline",className:l,children:"Carregando..."});let u=c[i],m=o.pm[i];return(0,s.jsxs)(r.C,{variant:a,className:"".concat(m," text-white gap-1 ").concat(l||""),children:[t&&(0,s.jsx)(u,{className:"h-3 w-3"}),o.Sx[i]]})}},69174:function(e,t,a){"use strict";a.d(t,{C:function(){return l}});var s=a(57437);a(2265);var r=a(90535),n=a(93448);let o=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-600 text-white hover:bg-green-700"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)(o({variant:a}),t),...r})}},12381:function(e,t,a){"use strict";a.d(t,{d:function(){return d},z:function(){return c}});var s=a(57437),r=a(2265),n=a(37053),o=a(90535),l=a(98239),i=a(93448);let d=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-hover shadow-card hover:shadow-elegant",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-card",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:c=!1,animated:u=!0,...m}=e,x=c?n.g7:"button",h=(0,s.jsx)(x,{className:(0,i.cn)(d({variant:r,size:o,className:a})),ref:t,...m});return!u||m.disabled?h:(0,s.jsx)(l.E.div,{whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.12},children:h})});c.displayName="Button"},79820:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return o},aY:function(){return c},ll:function(){return i}});var s=a(57437),r=a(2265),n=a(93448);let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});o.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});i.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},12749:function(e,t,a){"use strict";a.d(t,{J2:function(){return l},xo:function(){return i},yk:function(){return d}});var s=a(57437),r=a(2265),n=a(51777),o=a(93448);let l=n.fC,i=n.xz,d=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:l=4,...i}=e;return(0,s.jsx)(n.h_,{children:(0,s.jsx)(n.VY,{ref:t,align:r,sideOffset:l,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});d.displayName=n.VY.displayName},14362:function(e,t,a){"use strict";a.d(t,{H:function(){return i},a:function(){return d}});var s=a(57437),r=a(2265),n=a(1072),o=a(14438);let l=(0,r.createContext)(void 0),i=e=>{let{children:t}=e,[a,i]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),[u,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{n.O.auth.getSession().then(e=>{var t;let{data:{session:a}}=e;c(a),i(null!==(t=null==a?void 0:a.user)&&void 0!==t?t:null),m(!1)});let{data:{subscription:e}}=n.O.auth.onAuthStateChange((e,t)=>{var a;c(t),i(null!==(a=null==t?void 0:t.user)&&void 0!==a?a:null),m(!1)});return()=>e.unsubscribe()},[]);let x=async(e,t)=>{try{let{error:a}=await n.O.auth.signInWithPassword({email:e,password:t});return a?o.Am.error("Erro ao fazer login",{description:a.message}):o.Am.success("Login realizado com sucesso!"),{error:a}}catch(e){return console.error("Erro no signIn:",e),{error:e}}},h=async(e,t,a)=>{try{let{error:s}=await n.O.auth.signUp({email:e,password:t,options:{data:{full_name:a||""}}});return s?o.Am.error("Erro ao criar conta",{description:s.message}):o.Am.success("Conta criada com sucesso!"),{error:s}}catch(e){return console.error("Erro no signUp:",e),{error:e}}},f=async()=>{try{let{error:e}=await n.O.auth.signOut();e?o.Am.error("Erro ao sair",{description:e.message}):o.Am.success("Logout realizado com sucesso!")}catch(e){console.error("Erro no signOut:",e),o.Am.error("Erro ao sair")}},p=async e=>{try{let t=window.location.origin,{error:a}=await n.O.auth.resetPasswordForEmail(e,{redirectTo:"".concat(t,"/reset-password")});return a?o.Am.error("Erro ao enviar email de recupera\xe7\xe3o",{description:a.message}):o.Am.success("Email de recupera\xe7\xe3o enviado!",{description:"Verifique sua caixa de entrada."}),{error:a}}catch(e){return console.error("Erro no resetPassword:",e),{error:e}}};return(0,s.jsx)(l.Provider,{value:{user:a,session:d,loading:u,signIn:x,signUp:h,signOut:f,resetPassword:p},children:t})},d=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1072:function(e,t,a){"use strict";a.d(t,{O:function(){return i}});var s=a(11259);let r="https://kzvnwqlcrtxwagxkghxq.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6dm53cWxjcnR4d2FneGtnaHhxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2MjA4OTksImV4cCI6MjA3NzE5Njg5OX0.cOfLX6lW4jHmeHXKZlyKsgggfttK3jftIDzZgCfefgs",o=r&&n,l=null,i=o?(l||(l=o?(0,s.createBrowserClient)(r,n):(console.warn("⚠️ Supabase n\xe3o configurado. Configure NEXT_PUBLIC_SUPABASE_URL e NEXT_PUBLIC_SUPABASE_ANON_KEY em .env.local"),null)),l):null},93448:function(e,t,a){"use strict";a.d(t,{LF:function(){return o},cn:function(){return n},zB:function(){return i}});var s=a(61994),r=a(53335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}function o(e){return e?e.toLowerCase().split(" ").map(e=>0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1)).join(" "):e}function l(e){return e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s]/g,"").trim():""}function i(e,t){if(!e||!t)return!1;let a=l(e),s=l(t);return a.includes(s)}}},function(e){e.O(0,[457,918,318,250,400,763,713,209,951,919,971,117,744],function(){return e(e.s=96484)}),_N_E=e.O()}]);