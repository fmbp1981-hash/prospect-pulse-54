(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[648],{52457:function(e,a,s){Promise.resolve().then(s.bind(s,34282))},34282:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return eS}});var t=s(57437),r=s(2265),i=s(37053),n=s(90535),l=s(79205);let o=(0,l.Z)("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);var d=s(93448),c=s(12381),m=s(40279),u=s(31593),p=s(70001),x=s(32489);let h=p.fC;p.xz,p.x8;let f=p.h_,g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:a})});g.displayName=p.aV.displayName;let b=(0,n.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),v=r.forwardRef((e,a)=>{let{side:s="right",className:r,children:i,...n}=e;return(0,t.jsxs)(f,{children:[(0,t.jsx)(g,{}),(0,t.jsxs)(p.VY,{ref:a,className:(0,d.cn)(b({side:s}),r),...n,children:[i,(0,t.jsxs)(p.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function j(e){let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,d.cn)("animate-pulse rounded-md bg-muted",a),...s})}v.displayName=p.VY.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.Dx,{ref:a,className:(0,d.cn)("text-lg font-semibold text-foreground",s),...r})}).displayName=p.Dx.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",s),...r})}).displayName=p.dk.displayName;var y=s(71488);let N=r.createContext(null);function w(){let e=r.useContext(N);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let k=r.forwardRef((e,a)=>{let{defaultOpen:s=!0,open:i,onOpenChange:n,className:l,style:o,children:c,...m}=e,u=function(){let[e,a]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),s=()=>{a(window.innerWidth<768)};return e.addEventListener("change",s),a(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}(),[p,x]=r.useState(!1),[h,f]=r.useState(s),g=null!=i?i:h,b=r.useCallback(e=>{let a="function"==typeof e?e(g):e;n?n(a):f(a),document.cookie="".concat("sidebar:state","=").concat(a,"; path=/; max-age=").concat(604800)},[n,g]),v=r.useCallback(()=>u?x(e=>!e):b(e=>!e),[u,b,x]);r.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),v())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v]);let j=g?"expanded":"collapsed",w=r.useMemo(()=>({state:j,open:g,setOpen:b,isMobile:u,openMobile:p,setOpenMobile:x,toggleSidebar:v}),[j,g,b,u,p,x,v]);return(0,t.jsx)(N.Provider,{value:w,children:(0,t.jsx)(y.pn,{delayDuration:0,children:(0,t.jsx)("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...o},className:(0,d.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",l),ref:a,...m,children:c})})})});k.displayName="SidebarProvider";let C=r.forwardRef((e,a)=>{let{side:s="left",variant:r="sidebar",collapsible:i="offcanvas",className:n,children:l,...o}=e,{isMobile:c,state:m,openMobile:u,setOpenMobile:p}=w();return"none"===i?(0,t.jsx)("div",{className:(0,d.cn)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a,...o,children:l}):c?(0,t.jsx)(h,{open:u,onOpenChange:p,...o,children:(0,t.jsx)(v,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:s,children:(0,t.jsx)("div",{className:"flex h-full w-full flex-col",children:l})})}):(0,t.jsxs)("div",{ref:a,className:"group peer hidden text-sidebar-foreground md:block","data-state":m,"data-collapsible":"collapsed"===m?i:"","data-variant":r,"data-side":s,children:[(0,t.jsx)("div",{className:(0,d.cn)("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===r||"inset"===r?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,t.jsx)("div",{className:(0,d.cn)("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex","left"===s?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===r||"inset"===r?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:(0,t.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:l})})]})});C.displayName="Sidebar";let S=r.forwardRef((e,a)=>{let{className:s,onClick:r,...i}=e,{toggleSidebar:n}=w();return(0,t.jsxs)(c.z,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:(0,d.cn)("h-7 w-7",s),onClick:e=>{null==r||r(e),n()},...i,children:[(0,t.jsx)(o,{}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})});S.displayName="SidebarTrigger",r.forwardRef((e,a)=>{let{className:s,...r}=e,{toggleSidebar:i}=w();return(0,t.jsx)("button",{ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:i,title:"Toggle Sidebar",className:(0,d.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",s),...r})}).displayName="SidebarRail",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("main",{ref:a,className:(0,d.cn)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",s),...r})}).displayName="SidebarInset",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(m.I,{ref:a,"data-sidebar":"input",className:(0,d.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",s),...r})}).displayName="SidebarInput",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"header",className:(0,d.cn)("flex flex-col gap-2 p-2",s),...r})}).displayName="SidebarHeader",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"footer",className:(0,d.cn)("flex flex-col gap-2 p-2",s),...r})}).displayName="SidebarFooter",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(u.Z,{ref:a,"data-sidebar":"separator",className:(0,d.cn)("mx-2 w-auto bg-sidebar-border",s),...r})}).displayName="SidebarSeparator";let z=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"content",className:(0,d.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",s),...r})});z.displayName="SidebarContent";let A=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"group",className:(0,d.cn)("relative flex w-full min-w-0 flex-col p-2",s),...r})});A.displayName="SidebarGroup";let D=r.forwardRef((e,a)=>{let{className:s,asChild:r=!1,...n}=e,l=r?i.g7:"div";return(0,t.jsx)(l,{ref:a,"data-sidebar":"group-label",className:(0,d.cn)("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",s),...n})});D.displayName="SidebarGroupLabel",r.forwardRef((e,a)=>{let{className:s,asChild:r=!1,...n}=e,l=r?i.g7:"button";return(0,t.jsx)(l,{ref:a,"data-sidebar":"group-action",className:(0,d.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",s),...n})}).displayName="SidebarGroupAction";let Z=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"group-content",className:(0,d.cn)("w-full text-sm",s),...r})});Z.displayName="SidebarGroupContent";let _=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("ul",{ref:a,"data-sidebar":"menu",className:(0,d.cn)("flex w-full min-w-0 flex-col gap-1",s),...r})});_.displayName="SidebarMenu";let M=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("li",{ref:a,"data-sidebar":"menu-item",className:(0,d.cn)("group/menu-item relative",s),...r})});M.displayName="SidebarMenuItem";let R=(0,n.j)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),I=r.forwardRef((e,a)=>{let{asChild:s=!1,isActive:r=!1,variant:n="default",size:l="default",tooltip:o,className:c,...m}=e,u=s?i.g7:"button",{isMobile:p,state:x}=w(),h=(0,t.jsx)(u,{ref:a,"data-sidebar":"menu-button","data-size":l,"data-active":r,className:(0,d.cn)(R({variant:n,size:l}),c),...m});return o?("string"==typeof o&&(o={children:o}),(0,t.jsxs)(y.u,{children:[(0,t.jsx)(y.aJ,{asChild:!0,children:h}),(0,t.jsx)(y._v,{side:"right",align:"center",hidden:"collapsed"!==x||p,...o})]})):h});I.displayName="SidebarMenuButton",r.forwardRef((e,a)=>{let{className:s,asChild:r=!1,showOnHover:n=!1,...l}=e,o=r?i.g7:"button";return(0,t.jsx)(o,{ref:a,"data-sidebar":"menu-action",className:(0,d.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",s),...l})}).displayName="SidebarMenuAction",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"menu-badge",className:(0,d.cn)("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s),...r})}).displayName="SidebarMenuBadge",r.forwardRef((e,a)=>{let{className:s,showIcon:i=!1,...n}=e,l=r.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,t.jsxs)("div",{ref:a,"data-sidebar":"menu-skeleton",className:(0,d.cn)("flex h-8 items-center gap-2 rounded-md px-2",s),...n,children:[i&&(0,t.jsx)(j,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,t.jsx)(j,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":l}})]})}).displayName="SidebarMenuSkeleton",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("ul",{ref:a,"data-sidebar":"menu-sub",className:(0,d.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",s),...r})}).displayName="SidebarMenuSub",r.forwardRef((e,a)=>{let{...s}=e;return(0,t.jsx)("li",{ref:a,...s})}).displayName="SidebarMenuSubItem",r.forwardRef((e,a)=>{let{asChild:s=!1,size:r="md",isActive:n,className:l,...o}=e,c=s?i.g7:"a";return(0,t.jsx)(c,{ref:a,"data-sidebar":"menu-sub-button","data-size":r,"data-active":n,className:(0,d.cn)("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===r&&"text-xs","md"===r&&"text-sm","group-data-[collapsible=icon]:hidden",l),...o})}).displayName="SidebarMenuSubButton";var E=s(73247),P=s(25466),T=s(82029),V=s(55736),O=s(48736),q=s(29985),F=s(98728),L=s(53417),G=s(41671);let B=(0,l.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),H=(0,l.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var J=s(14438),W=s(27648),K=s(99376);function Q(e){let{href:a,className:s,activeClassName:r="bg-sidebar-accent text-sidebar-accent-foreground",children:i}=e,n=(0,K.usePathname)();return(0,t.jsx)(W.default,{href:a,className:(0,d.cn)(s,n===a&&r),children:i})}var U=s(98239);let $=e=>{let{size:a="md",showText:s=!0,animated:r=!0,className:i=""}=e,n={sm:{main:"text-base",sub:"text-[10px]"},md:{main:"text-xl",sub:"text-xs"},lg:{main:"text-2xl",sub:"text-sm"},xl:{main:"text-3xl",sub:"text-base"}},l=r?U.E.img:"img";return(0,t.jsxs)("div",{className:"flex items-center gap-3 ".concat(i),children:[(0,t.jsx)(l,{src:"/logo.png",alt:"LeadFinder Pro",className:"".concat({sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16",xl:"h-24 w-24"}[a]," object-contain"),...r&&{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},whileHover:{scale:1.05,rotate:5},transition:{duration:.3}}}),s&&(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-bold ".concat(n[a].main," text-primary leading-none"),children:"LeadFinder"}),(0,t.jsx)("span",{className:"".concat(n[a].sub," text-accent font-semibold tracking-wider"),children:"PRO"})]})]})};var X=s(14362),Y=s(91696),ee=s(75060),ea=s(74291),es=s(23675),et=s(15291),er=s(69174),ei=s(79820),en=s(17168),el=s(82023),eo=s(99397),ed=s(82431);let ec=(0,l.Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var em=s(8522),eu=s(78867);let ep=(0,l.Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var ex=s(18930),eh=s(40359),ef=s(51817);let eg=["Primeiro Contato","Follow-up","Proposta","Negocia\xe7\xe3o","P\xf3s-venda","Personalizado"];function eb(e){let{isOpen:a,onClose:s,onGenerated:i}=e,[n,l]=(0,r.useState)(""),[o,d]=(0,r.useState)("Primeiro Contato"),[m,u]=(0,r.useState)("misto"),[p,x]=(0,r.useState)(!1),[h,f]=(0,r.useState)([]),[g,b]=(0,r.useState)(""),v=async()=>{if(!n.trim()){J.Am.error("Descreva o que voc\xea quer no template");return}x(!0);try{let e=await fetch("".concat("https://kzvnwqlcrtxwagxkghxq.supabase.co","/functions/v1/generate-template-ai"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6dm53cWxjcnR4d2FneGtnaHhxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2MjA4OTksImV4cCI6MjA3NzE5Njg5OX0.cOfLX6lW4jHmeHXKZlyKsgggfttK3jftIDzZgCfefgs")},body:JSON.stringify({description:n,category:o,tone:m})});if(!e.ok)throw Error("IA API error: ".concat(e.status));let a=await e.json();if(!a.success)throw Error(a.error||"Erro ao gerar template");let s=a.generated_text||"",t=j(s);if(t.length<3)throw Error("IA n\xe3o gerou varia\xe7\xf5es suficientes");f(t);let r=s.match(/NOME_TEMPLATE:\s*(.+?)(?:\n|$)/),i=r?r[1].trim():"Template ".concat(o," - IA");b(i),J.Am.success("Templates gerados com sucesso!",{description:"Revise e ajuste se necess\xe1rio antes de salvar"})}catch(e){console.error("Erro ao gerar templates:",e),J.Am.error("Erro ao gerar templates com IA",{description:"Tente novamente com uma descri\xe7\xe3o diferente"})}finally{x(!1)}},j=e=>{let a=[],s=e.match(RegExp("VARIACAO_1:\\s*(.+?)(?=VARIACAO_2:|$)","s"));s&&a.push({style:"formal",message:s[1].trim()});let t=e.match(RegExp("VARIACAO_2:\\s*(.+?)(?=VARIACAO_3:|$)","s"));t&&a.push({style:"casual",message:t[1].trim()});let r=e.match(RegExp("VARIACAO_3:\\s*(.+?)(?=NOME_TEMPLATE:|$)","s"));return r&&a.push({style:"direto",message:r[1].trim()}),a},y=()=>{l(""),f([]),b(""),s()},N=e=>e.replace(/\{\{minha_empresa\}\}/g,"Sua Empresa").replace(/\{\{empresa\}\}/g,"Exemplo Empresa Ltda").replace(/\{\{categoria\}\}/g,"Restaurantes").replace(/\{\{cidade\}\}/g,"S\xe3o Paulo").replace(/\{\{contato\}\}/g,"Jo\xe3o Silva").replace(/\{\{lead\}\}/g,"Lead-001");return(0,t.jsx)(ea.Vq,{open:a,onOpenChange:y,children:(0,t.jsxs)(ea.cZ,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsx)(ea.fK,{children:(0,t.jsxs)(ea.$N,{className:"flex items-center gap-2",children:[(0,t.jsx)(el.Z,{className:"h-5 w-5 text-purple-500"}),"Gerar Template com IA"]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:0===h.length?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(el.Z,{className:"h-5 w-5 text-purple-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-purple-900",children:"Como funciona?"}),(0,t.jsx)("p",{className:"text-xs text-purple-700 mt-1",children:"Descreva o que voc\xea quer e a IA criar\xe1 automaticamente 3 varia\xe7\xf5es com estilos diferentes (Formal, Casual e Direto). Voc\xea poder\xe1 revisar e editar antes de salvar."})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee._,{htmlFor:"category",children:"Categoria do Template"}),(0,t.jsxs)(et.Ph,{value:o,onValueChange:d,children:[(0,t.jsx)(et.i4,{children:(0,t.jsx)(et.ki,{})}),(0,t.jsx)(et.Bw,{children:eg.map(e=>(0,t.jsx)(et.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee._,{htmlFor:"tone",children:"Tom Geral"}),(0,t.jsxs)(et.Ph,{value:m,onValueChange:e=>u(e),children:[(0,t.jsx)(et.i4,{children:(0,t.jsx)(et.ki,{})}),(0,t.jsxs)(et.Bw,{children:[(0,t.jsx)(et.Ql,{value:"profissional",children:"\uD83D\uDC54 Profissional (mais formal)"}),(0,t.jsx)(et.Ql,{value:"misto",children:"\uD83C\uDFAF Misto (balanceado)"}),(0,t.jsx)(et.Ql,{value:"casual",children:"\uD83D\uDE0A Casual (mais descontra\xeddo)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee._,{htmlFor:"description",children:"Descreva o Template"}),(0,t.jsx)(es.g,{id:"description",value:n,onChange:e=>l(e.target.value),placeholder:"Exemplo: Quero uma mensagem para oferecer nosso servi\xe7o de consultoria empresarial para empresas que est\xe3o crescendo rapidamente. Quero enfatizar que ajudamos a escalar opera\xe7\xf5es sem perder qualidade.",rows:6,className:"resize-none"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"\uD83D\uDCA1 Dica: Seja espec\xedfico sobre o objetivo, p\xfablico-alvo e principais benef\xedcios"})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-yellow-900 mb-2",children:"⚡ Vari\xe1veis que ser\xe3o usadas automaticamente:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("code",{className:"text-xs bg-yellow-100 px-2 py-0.5 rounded",children:"{{minha_empresa}}"}),(0,t.jsx)("code",{className:"text-xs bg-yellow-100 px-2 py-0.5 rounded",children:"{{empresa}}"}),(0,t.jsx)("code",{className:"text-xs bg-yellow-100 px-2 py-0.5 rounded",children:"{{categoria}}"}),(0,t.jsx)("code",{className:"text-xs bg-yellow-100 px-2 py-0.5 rounded",children:"{{cidade}}"}),(0,t.jsx)("code",{className:"text-xs bg-yellow-100 px-2 py-0.5 rounded",children:"{{contato}}"})]})]})]})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(el.Z,{className:"h-5 w-5 text-green-600 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-green-900",children:["✨ Template Gerado: ",g]}),(0,t.jsx)("p",{className:"text-xs text-green-700 mt-1",children:'3 varia\xe7\xf5es criadas automaticamente. Revise abaixo e clique em "Usar Template" para editar no Template Manager antes de salvar.'})]})]})}),h.map((e,a)=>(0,t.jsxs)(ei.Zb,{className:"p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(er.C,{variant:"default",children:[eh.g[e.style].emoji," Varia\xe7\xe3o ",a+1,": ",eh.g[e.style].label]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:eh.g[e.style].description})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium mb-2",children:"Template:"}),(0,t.jsx)("div",{className:"bg-muted p-3 rounded text-xs whitespace-pre-wrap max-h-40 overflow-y-auto",children:e.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium mb-2",children:"Preview:"}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded text-xs whitespace-pre-wrap max-h-40 overflow-y-auto",children:N(e.message)})]})]})]},a))]})})}),(0,t.jsx)(ea.cN,{children:0===h.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.z,{variant:"outline",onClick:y,children:"Cancelar"}),(0,t.jsx)(c.z,{onClick:v,disabled:!n.trim()||p,className:"bg-purple-600 hover:bg-purple-700",children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ef.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Gerando com IA..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(el.Z,{className:"h-4 w-4 mr-2"}),"Gerar Template"]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.z,{variant:"outline",onClick:()=>{f([]),b("")},children:[(0,t.jsx)(ed.Z,{className:"h-4 w-4 mr-2"}),"Gerar Novamente"]}),(0,t.jsx)(c.z,{onClick:()=>{if(0===h.length){J.Am.error("Gere um template primeiro");return}i(g,o,h),y()},className:"bg-green-600 hover:bg-green-700",children:"Usar Template"})]})})]})})}let ev=[{id:"default-1",name:"Primeiro Contato - Profissional",category:"Primeiro Contato",variations:[{style:"formal",message:"Ol\xe1! \uD83D\uDC4B\n\nEstou entrando em contato com a {{empresa}} em {{cidade}} porque identificamos oportunidades interessantes para o seu neg\xf3cio de {{categoria}}.\n\nPodemos agendar uma conversa r\xe1pida para apresentar nossa solu\xe7\xe3o?\n\nAguardo seu retorno!"},{style:"consultivo",message:"Bom dia!\n\nNotei que a {{empresa}} atua com {{categoria}} em {{cidade}}. Acredito que posso agregar valor ao seu neg\xf3cio.\n\nQue tal conversarmos sobre oportunidades de crescimento?\n\nFico \xe0 disposi\xe7\xe3o!"},{style:"executivo",message:"{{empresa}},\n\nIdentificamos potencial de parceria com seu neg\xf3cio de {{categoria}} em {{cidade}}.\n\nDispon\xedvel para apresenta\xe7\xe3o executiva?\n\nAtenciosamente"}],isDefault:!0,createdAt:new Date().toISOString()},{id:"default-2",name:"Primeiro Contato - Descontra\xeddo",category:"Primeiro Contato",variations:[{style:"casual",message:"E a\xed! \uD83D\uDE0A\n\nVi a {{empresa}} em {{cidade}} e achei super interessante o trabalho de voc\xeas com {{categoria}}.\n\nTenho algo que pode ajudar muito voc\xeas - bora conversar?"},{style:"amigavel",message:"Oi! Tudo bem?\n\nConheci a {{empresa}} e fiquei impressionado com o trabalho de voc\xeas!\n\nTenho uma proposta que pode fazer sentido pra voc\xeas. Vamos trocar uma ideia?"},{style:"direto",message:"Ol\xe1 {{empresa}}!\n\nDireto ao ponto: tenho uma solu\xe7\xe3o que pode otimizar seu neg\xf3cio de {{categoria}}.\n\nPosso te mostrar em 10 minutos?"}],isDefault:!0,createdAt:new Date().toISOString()},{id:"default-3",name:"Follow-up",category:"Follow-up",variations:[{style:"formal",message:"Ol\xe1 novamente!\n\nEnviei uma mensagem semana passada sobre a {{empresa}}.\n\nConseguiu dar uma olhada? Seria \xf3timo conversar sobre como podemos ajudar voc\xeas!"},{style:"casual",message:"Oi! S\xf3 passando pra dar um toque aqui \uD83D\uDE0A\n\nTe mandei uma msg sobre uma parceria pra {{empresa}}. Viu l\xe1?\n\nQualquer coisa \xe9 s\xf3 chamar!"},{style:"consultivo",message:"Ol\xe1! Retomando nosso contato...\n\nGostaria de saber se h\xe1 interesse em conhecer nossa proposta para {{empresa}}.\n\nPosso esclarecer qualquer d\xfavida!"}],isDefault:!0,createdAt:new Date().toISOString()}],ej=["Primeiro Contato","Follow-up","Proposta","Negocia\xe7\xe3o","P\xf3s-venda","Personalizado"];function ey(e){var a,s,i;let{isOpen:n,onClose:l}=e,[o,d]=(0,r.useState)([]),[p,x]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),[g,b]=(0,r.useState)("0"),[v,j]=(0,r.useState)(!1),[y,N]=(0,r.useState)({name:"",category:"Primeiro Contato",variations:[{style:"formal",message:""},{style:"casual",message:""},{style:"direto",message:""}]});(0,r.useEffect)(()=>{n&&w()},[n]);let w=()=>{let e=localStorage.getItem("whatsapp_templates");e?d(JSON.parse(e)):(d(ev),localStorage.setItem("whatsapp_templates",JSON.stringify(ev)))},k=e=>{localStorage.setItem("whatsapp_templates",JSON.stringify(e)),d(e)},C=e=>{if(e.isDefault){J.Am.error("Templates padr\xe3o n\xe3o podem ser editados",{description:"Crie uma c\xf3pia para personalizar"});return}x(!0),f(e),b("0");let a=e.variations||[{style:"formal",message:e.message||""},{style:"casual",message:""},{style:"direto",message:""}];N({name:e.name,category:e.category,variations:a})},S=e=>{x(!0),f(null),b("0");let a=e.variations||[{style:"formal",message:e.message||""},{style:"casual",message:""},{style:"direto",message:""}];N({name:"".concat(e.name," (C\xf3pia)"),category:e.category,variations:a})},z=e=>{let a=o.find(a=>a.id===e);if(null==a?void 0:a.isDefault){J.Am.error("Templates padr\xe3o n\xe3o podem ser deletados");return}k(o.filter(a=>a.id!==e)),J.Am.success("Template deletado com sucesso")},A=(e,a,s)=>{let t=[...y.variations];"style"===a?t[e].style=s:t[e].message=s,N({...y,variations:t})},D=e=>e.replace(/\{\{minha_empresa\}\}/g,"Sua Empresa").replace(/\{\{empresa\}\}/g,"Exemplo Empresa Ltda").replace(/\{\{categoria\}\}/g,"Restaurantes").replace(/\{\{cidade\}\}/g,"S\xe3o Paulo").replace(/\{\{contato\}\}/g,"Jo\xe3o Silva").replace(/\{\{lead\}\}/g,"Lead-001");return(0,t.jsxs)(ea.Vq,{open:n,onOpenChange:l,children:[(0,t.jsxs)(ea.cZ,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsx)(ea.fK,{children:(0,t.jsxs)(ea.$N,{className:"flex items-center gap-2",children:[(0,t.jsx)(L.Z,{className:"h-5 w-5"}),"Gerenciar Templates de Mensagens"]})}),p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee._,{htmlFor:"name",children:"Nome do Template"}),(0,t.jsx)(m.I,{id:"name",value:y.name,onChange:e=>N({...y,name:e.target.value}),placeholder:"Ex: Primeiro Contato - Profissional"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee._,{htmlFor:"category",children:"Categoria"}),(0,t.jsxs)(et.Ph,{value:y.category,onValueChange:e=>N({...y,category:e}),children:[(0,t.jsx)(et.i4,{children:(0,t.jsx)(et.ki,{})}),(0,t.jsx)(et.Bw,{children:ej.map(e=>(0,t.jsx)(et.Ql,{value:e,children:e},e))})]})]}),(0,t.jsx)(u.Z,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(em.Z,{className:"h-4 w-4"}),(0,t.jsx)(ee._,{children:"Varia\xe7\xf5es de Mensagem (Envio Aleat\xf3rio)"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"Configure at\xe9 3 varia\xe7\xf5es com estilos diferentes. No disparo em massa, uma ser\xe1 escolhida aleatoriamente para cada lead."}),(0,t.jsxs)(en.mQ,{value:g,onValueChange:b,children:[(0,t.jsxs)(en.dr,{className:"grid w-full grid-cols-3",children:[(0,t.jsxs)(en.SP,{value:"0",children:["Varia\xe7\xe3o 1 ",(null===(a=y.variations[0])||void 0===a?void 0:a.message)&&"✓"]}),(0,t.jsxs)(en.SP,{value:"1",children:["Varia\xe7\xe3o 2 ",(null===(s=y.variations[1])||void 0===s?void 0:s.message)&&"✓"]}),(0,t.jsxs)(en.SP,{value:"2",children:["Varia\xe7\xe3o 3 ",(null===(i=y.variations[2])||void 0===i?void 0:i.message)&&"✓"]})]}),[0,1,2].map(e=>{var a,s,r;return(0,t.jsxs)(en.nU,{value:String(e),className:"space-y-3 mt-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee._,{children:"Estilo da Mensagem"}),(0,t.jsxs)(et.Ph,{value:(null===(a=y.variations[e])||void 0===a?void 0:a.style)||"formal",onValueChange:a=>A(e,"style",a),children:[(0,t.jsx)(et.i4,{children:(0,t.jsx)(et.ki,{})}),(0,t.jsx)(et.Bw,{children:Object.entries(eh.g).map(e=>{let[a,s]=e;return(0,t.jsx)(et.Ql,{value:a,children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[s.emoji," ",s.label," - ",s.description]})},a)})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee._,{children:"Mensagem"}),(0,t.jsx)(es.g,{value:(null===(s=y.variations[e])||void 0===s?void 0:s.message)||"",onChange:a=>A(e,"message",a.target.value),placeholder:"Digite a varia\xe7\xe3o ".concat(e+1," da mensagem... (opcional)"),rows:8,className:"font-mono text-sm"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Use: ",eh.K.map(e=>e.key).join(", ")]})]}),(null===(r=y.variations[e])||void 0===r?void 0:r.message)&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee._,{children:"Preview:"}),(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 p-3 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:D(y.variations[e].message)})})]})]},e)})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-blue-900",children:"\uD83D\uDCA1 Dica: Varia\xe7\xf5es Aleat\xf3rias"}),(0,t.jsx)("p",{className:"text-xs text-blue-800",children:"Ao enviar para m\xfaltiplos leads, o sistema escolher\xe1 automaticamente uma das varia\xe7\xf5es preenchidas de forma aleat\xf3ria. Isso torna as mensagens mais naturais e evita bloqueios."})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-yellow-900",children:"⚙️ Vari\xe1veis Dispon\xedveis:"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-1 mt-2",children:eh.K.map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-1",children:[(0,t.jsx)("code",{className:"text-xs bg-yellow-100 px-1.5 py-0.5 rounded",children:e.key}),(0,t.jsx)("span",{className:"text-xs text-yellow-800",children:e.description})]},e.key))})]})]})}),(0,t.jsxs)(ea.cN,{children:[(0,t.jsx)(c.z,{variant:"outline",onClick:()=>{x(!1),f(null)},children:"Cancelar"}),(0,t.jsx)(c.z,{onClick:()=>{if(!y.name.trim()){J.Am.error("Digite um nome para o template");return}if(!y.variations.some(e=>""!==e.message.trim())){J.Am.error("Preencha pelo menos uma varia\xe7\xe3o de mensagem");return}h?(k(o.map(e=>e.id===h.id?{...e,name:y.name,category:y.category,variations:y.variations,updatedAt:new Date().toISOString()}:e)),J.Am.success("Template atualizado com sucesso")):(k([...o,{id:"custom-".concat(Date.now()),name:y.name,category:y.category,variations:y.variations,isDefault:!1,createdAt:new Date().toISOString()}]),J.Am.success("Template criado com sucesso")),x(!1),f(null)},children:h?"Salvar Altera\xe7\xf5es":"Criar Template"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[o.length," template(s) dispon\xedveis"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(c.z,{onClick:()=>j(!0),size:"sm",variant:"outline",className:"border-purple-200 text-purple-600 hover:bg-purple-50",children:[(0,t.jsx)(el.Z,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]}),(0,t.jsxs)(c.z,{onClick:()=>{x(!0),f(null),b("0"),N({name:"",category:"Primeiro Contato",variations:[{style:"formal",message:""},{style:"casual",message:""},{style:"direto",message:""}]})},size:"sm",children:[(0,t.jsx)(eo.Z,{className:"h-4 w-4 mr-2"}),"Novo Template"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-yellow-900",children:"\uD83D\uDCA1 Templates Antigos?"}),(0,t.jsx)("p",{className:"text-xs text-yellow-800",children:'Se seus templates est\xe3o desatualizados ou com erros, clique em "Resetar"'})]}),(0,t.jsxs)(c.z,{onClick:()=>{confirm("Tem certeza que deseja limpar todos os templates e restaurar os padr\xf5es? Esta a\xe7\xe3o n\xe3o pode ser desfeita.")&&(localStorage.removeItem("whatsapp_templates"),d(ev),localStorage.setItem("whatsapp_templates",JSON.stringify(ev)),J.Am.success("Templates resetados com sucesso!",{description:"Templates padr\xe3o restaurados"}))},size:"sm",variant:"outline",className:"border-yellow-300 text-yellow-700 hover:bg-yellow-100",children:[(0,t.jsx)(ed.Z,{className:"h-4 w-4 mr-2"}),"Resetar"]})]})]}),o.map(e=>{let a=(e.variations||(e.message?[{style:"formal",message:e.message}]:[])).filter(e=>e.message&&""!==e.message.trim());return(0,t.jsxs)(ei.Zb,{className:"p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.name}),e.isDefault&&(0,t.jsxs)(er.C,{variant:"secondary",className:"gap-1",children:[(0,t.jsx)(ec,{className:"h-3 w-3"}),"Padr\xe3o"]}),(0,t.jsx)(er.C,{variant:"outline",children:e.category}),a.length>1&&(0,t.jsxs)(er.C,{variant:"default",className:"gap-1",children:[(0,t.jsx)(em.Z,{className:"h-3 w-3"}),a.length," varia\xe7\xf5es"]})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Criado em ",new Date(e.createdAt).toLocaleDateString("pt-BR")]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>S(e),title:"Duplicar",children:(0,t.jsx)(eu.Z,{className:"h-4 w-4"})}),(0,t.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>C(e),disabled:e.isDefault,children:(0,t.jsx)(ep,{className:"h-4 w-4"})}),(0,t.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>z(e.id),disabled:e.isDefault,children:(0,t.jsx)(ex.Z,{className:"h-4 w-4"})})]})]}),(0,t.jsx)(u.Z,{}),(0,t.jsx)("div",{className:"space-y-2",children:a.map((e,a)=>(0,t.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(er.C,{variant:"outline",className:"text-xs",children:[eh.g[e.style].emoji," ",eh.g[e.style].label]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:eh.g[e.style].description})]}),(0,t.jsx)("div",{className:"bg-muted p-2 rounded text-xs whitespace-pre-wrap max-h-20 overflow-y-auto",children:e.message})]},a))})]},e.id)})]}),(0,t.jsx)(ea.cN,{children:(0,t.jsx)(c.z,{variant:"outline",onClick:l,children:"Fechar"})})]})]}),(0,t.jsx)(eb,{isOpen:v,onClose:()=>j(!1),onGenerated:(e,a,s)=>{N({name:e,category:a,variations:s}),x(!0),b("0"),J.Am.success("Template carregado!",{description:"Revise e ajuste antes de salvar"})}})]})}var eN=s(14742);let ew=[{title:"Prospec\xe7\xe3o",url:"/",icon:E.Z},{title:"Dashboard",url:"/dashboard",icon:P.Z},{title:"Tabela de Leads",url:"/leads",icon:T.Z},{title:"Kanban Board",url:"/kanban",icon:V.Z},{title:"Templates",url:"#",icon:O.Z},{title:"Integra\xe7\xf5es",url:"/integrations",icon:q.Z},{title:"Configura\xe7\xf5es",url:"/settings",icon:F.Z}];function ek(){let{user:e,signOut:a}=(0,X.a)(),{isAdmin:s}=(0,Y.j)(),{state:i}=w(),n="collapsed"===i,[l,o]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[p,x]=(0,r.useState)("");return(0,r.useEffect)(()=>{let e=localStorage.getItem("whatsapp_webhook_url");e&&x(e)},[]),(0,t.jsxs)(C,{collapsible:"icon",className:"bg-sidebar border-r border-sidebar-border",children:[(0,t.jsxs)(z,{children:[(0,t.jsx)("div",{className:"px-4 py-5 border-b border-sidebar-border",children:(0,t.jsx)($,{size:n?"sm":"md",showText:!n})}),(0,t.jsxs)(A,{children:[(0,t.jsx)(D,{children:"Menu"}),(0,t.jsx)(Z,{children:(0,t.jsx)(_,{children:ew.map((e,a)=>(0,t.jsx)(U.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a,duration:.2},children:(0,t.jsx)(M,{children:(0,t.jsx)(I,{asChild:!0,tooltip:e.title,children:"Templates"===e.title?(0,t.jsxs)("button",{onClick:()=>o(!0),className:"group relative overflow-hidden rounded-lg transition-all duration-200 hover:scale-[1.02] hover:bg-primary hover:text-primary-foreground hover:shadow-lg my-1 flex w-full items-center gap-2 p-2",children:[(0,t.jsx)(e.icon,{className:"h-5 w-5 transition-transform group-hover:scale-110"}),!n&&(0,t.jsx)("span",{className:"font-medium",children:e.title})]}):(0,t.jsxs)(Q,{href:e.url,className:"group relative overflow-hidden rounded-lg transition-all duration-200 hover:scale-[1.02] hover:bg-primary hover:text-primary-foreground hover:shadow-lg my-1",activeClassName:"bg-primary text-primary-foreground shadow-md before:absolute before:left-0 before:top-0 before:bottom-0 before:w-1 before:bg-success before:rounded-l-lg",children:[(0,t.jsx)(e.icon,{className:"h-5 w-5 transition-transform group-hover:scale-110"}),!n&&(0,t.jsx)("span",{className:"font-medium",children:e.title})]})})})},e.title))})})]}),s&&(0,t.jsx)(A,{className:"px-3 py-4 border-t border-border/40",children:(0,t.jsxs)(ea.Vq,{open:d,onOpenChange:u,children:[(0,t.jsx)(ea.hg,{asChild:!0,children:(0,t.jsxs)(I,{tooltip:"Configura\xe7\xf5es de Webhook WhatsApp",className:"group hover:bg-muted transition-all",children:[(0,t.jsx)(q.Z,{className:"h-5 w-5"}),!n&&(0,t.jsx)("span",{className:"font-medium",children:"Config. Webhook"})]})}),(0,t.jsxs)(ea.cZ,{className:"sm:max-w-[500px]",children:[(0,t.jsx)(ea.fK,{children:(0,t.jsxs)(ea.$N,{className:"flex items-center gap-2",children:[(0,t.jsx)(q.Z,{className:"h-5 w-5"}),"Configura\xe7\xf5es de Integra\xe7\xf5es"]})}),(0,t.jsxs)("div",{className:"space-y-6 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(ee._,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(L.Z,{className:"h-4 w-4 text-primary"}),"Webhook de WhatsApp",p&&(0,t.jsx)(G.Z,{className:"h-4 w-4 text-success ml-auto"})]}),(0,t.jsx)(m.I,{value:p,onChange:e=>x(e.target.value),placeholder:"https://seu-n8n.com/webhook/whatsapp",className:"font-mono text-xs",type:"password"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"URL do webhook n8n para envio via Evolution API"})]}),(0,t.jsx)("div",{className:"border-t"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(ee._,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(O.Z,{className:"h-4 w-4 text-primary"}),"Templates de Mensagens"]}),(0,t.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",onClick:()=>o(!0),children:[(0,t.jsx)(L.Z,{className:"h-4 w-4 mr-2"}),"Gerenciar Templates"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Crie e personalize templates para mensagens WhatsApp"})]}),(0,t.jsx)("div",{className:"border-t"}),(0,t.jsxs)("div",{className:"rounded-lg bg-muted/50 p-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Status da Configura\xe7\xe3o"}),(0,t.jsx)("div",{className:"space-y-1 text-xs",children:(0,t.jsx)("div",{className:"flex items-center gap-2",children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(G.Z,{className:"h-3 w-3 text-success"}),(0,t.jsx)("span",{className:"text-success",children:"WhatsApp configurado"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full bg-yellow-500"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"WhatsApp n\xe3o configurado"})]})})})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground bg-blue-50 dark:bg-blue-950 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,t.jsx)("strong",{children:"\uD83D\uDCA1 Dica:"})," Mantenha esse endere\xe7o em segredo para proteger sua integra\xe7\xe3o."]})]}),(0,t.jsxs)(ea.cN,{children:[(0,t.jsx)(ea.GG,{asChild:!0,children:(0,t.jsx)(c.z,{variant:"outline",onClick:()=>{x(localStorage.getItem("whatsapp_webhook_url")||""),u(!1)},children:"Cancelar"})}),(0,t.jsx)(ea.GG,{asChild:!0,children:(0,t.jsx)(c.z,{onClick:()=>{localStorage.setItem("whatsapp_webhook_url",p),J.Am.success("Configura\xe7\xf5es salvas com sucesso!"),u(!1)},children:"Salvar Configura\xe7\xf5es"})})]})]})]})}),(0,t.jsx)(A,{className:"mt-auto border-t border-border/40 pt-4",children:(0,t.jsx)(Z,{children:(0,t.jsx)(_,{children:(0,t.jsx)(M,{children:(0,t.jsxs)("div",{className:"px-3 py-2 space-y-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(B,{className:"h-4 w-4 text-muted-foreground"}),!n&&(0,t.jsx)("span",{className:"text-muted-foreground truncate",children:(null==e?void 0:e.email)||"Usu\xe1rio"})]}),!n&&(0,t.jsx)(eN.R,{showIcon:!0,className:"text-xs"})]}),(0,t.jsxs)(c.z,{variant:"ghost",size:"sm",onClick:a,className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",children:[(0,t.jsx)(H,{className:"h-4 w-4 mr-2"}),!n&&"Sair"]})]})})})})}),(0,t.jsx)(A,{className:"border-t border-border/40 pt-3 pb-3",children:(0,t.jsx)(Z,{children:(0,t.jsxs)("div",{className:"px-3 py-2 flex items-center gap-2 text-xs text-muted-foreground",children:[(0,t.jsx)("img",{src:"/intellix-logo.png",alt:"IntelliX.AI",className:"h-6 w-6 object-contain"}),!n&&(0,t.jsxs)("span",{children:["Desenvolvido por ",(0,t.jsx)("strong",{className:"text-primary",children:"IntelliX.AI"})]})]})})})]}),(0,t.jsx)(ey,{isOpen:l,onClose:()=>o(!1)})]})}function eC(e){let{children:a}=e;return(0,t.jsx)(k,{children:(0,t.jsxs)("div",{className:"flex min-h-screen w-full",children:[(0,t.jsx)(ek,{}),(0,t.jsxs)("main",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("header",{className:"sticky top-0 z-10 flex h-14 items-center gap-4 border-b bg-background px-4 lg:h-16 lg:px-6",children:[(0,t.jsx)(S,{}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("h1",{className:"text-lg font-semibold",children:"LeadFinder Pro"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-auto",children:a})]})]})})}function eS(e){let{children:a}=e;return(0,t.jsx)(eC,{children:a})}},41671:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},78867:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},42208:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},48736:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},25466:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},29985:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},53417:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},82431:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},73247:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},98728:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},84286:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},8522:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]])},82023:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},82029:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]])},18930:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},51884:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]])},99376:function(e,a,s){"use strict";var t=s(35475);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},14742:function(e,a,s){"use strict";s.d(a,{R:function(){return m}});var t=s(57437),r=s(69174),i=s(91696),n=s(95443),l=s(84286),o=s(51884),d=s(42208);let c={admin:l.Z,operador:o.Z,visualizador:d.Z};function m(e){let{showIcon:a=!0,variant:s="default",className:l}=e,{role:o,isLoading:d}=(0,i.j)();if(d)return(0,t.jsx)(r.C,{variant:"outline",className:l,children:"Carregando..."});let m=c[o],u=n.pm[o];return(0,t.jsxs)(r.C,{variant:s,className:"".concat(u," text-white gap-1 ").concat(l||""),children:[a&&(0,t.jsx)(m,{className:"h-3 w-3"}),n.Sx[o]]})}},15291:function(e,a,s){"use strict";s.d(a,{Bw:function(){return h},Ph:function(){return c},Ql:function(){return f},i4:function(){return u},ki:function(){return m}});var t=s(57437),r=s(2265),i=s(74797),n=s(40875),l=s(22135),o=s(30401),d=s(93448);let c=i.fC;i.ZA;let m=i.B4,u=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(i.xz,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,t.jsx)(i.JO,{asChild:!0,children:(0,t.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=i.xz.displayName;let p=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(l.Z,{className:"h-4 w-4"})})});p.displayName=i.u_.displayName;let x=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})})});x.displayName=i.$G.displayName;let h=r.forwardRef((e,a)=>{let{className:s,children:r,position:n="popper",...l}=e;return(0,t.jsx)(i.h_,{children:(0,t.jsxs)(i.VY,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...l,children:[(0,t.jsx)(p,{}),(0,t.jsx)(i.l_,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(x,{})]})})});h.displayName=i.VY.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=i.__.displayName;let f=r.forwardRef((e,a)=>{let{className:s,children:r,...n}=e;return(0,t.jsxs)(i.ck,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.wU,{children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(i.eT,{children:r})]})});f.displayName=i.ck.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=i.Z0.displayName},31593:function(e,a,s){"use strict";s.d(a,{Z:function(){return l}});var t=s(57437),r=s(2265),i=s(90759),n=s(93448);let l=r.forwardRef((e,a)=>{let{className:s,orientation:r="horizontal",decorative:l=!0,...o}=e;return(0,t.jsx)(i.f,{ref:a,decorative:l,orientation:r,className:(0,n.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...o})});l.displayName=i.f.displayName},23675:function(e,a,s){"use strict";s.d(a,{g:function(){return n}});var t=s(57437),r=s(2265),i=s(93448);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...r})});n.displayName="Textarea"},71488:function(e,a,s){"use strict";s.d(a,{_v:function(){return c},aJ:function(){return d},pn:function(){return l},u:function(){return o}});var t=s(57437),r=s(2265),i=s(91668),n=s(93448);let l=i.zt,o=i.fC,d=i.xz,c=r.forwardRef((e,a)=>{let{className:s,sideOffset:r=4,...l}=e;return(0,t.jsx)(i.VY,{ref:a,sideOffset:r,className:(0,n.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})});c.displayName=i.VY.displayName},91696:function(e,a,s){"use strict";s.d(a,{j:function(){return o}});var t=s(2265),r=s(11713),i=s(1072),n=s(95443),l=s(14362);function o(){let{user:e}=(0,l.a)(),[a,s]=(0,t.useState)("operador"),{data:o,isLoading:d,refetch:c}=(0,r.a)({queryKey:["user-role",null==e?void 0:e.id],queryFn:async()=>{if(!(null==e?void 0:e.id))return null;let{data:a,error:s}=await i.O.from("user_settings").select("role").eq("user_id",e.id).single();if(s){if(console.error("Erro ao buscar role do usu\xe1rio:",s),"PGRST116"===s.code){let{data:a,error:s}=await i.O.from("user_settings").insert({user_id:e.id,role:"operador"}).select("role").single();return s?(console.error("Erro ao criar user_settings:",s),"operador"):a.role}return"operador"}return(null==a?void 0:a.role)||"operador"},enabled:!!(null==e?void 0:e.id),staleTime:3e5});(0,t.useEffect)(()=>{o&&s(o)},[o]);let m=n.IC[a],u="admin"===a&&(null==e?void 0:e.email)==="fmbp1981@gmail.com";return{role:a,permissions:m,isLoading:d,isAdmin:u,isOperador:"operador"===a,isVisualizador:"visualizador"===a,hasPermission:e=>m[e],refetch:c}}},40359:function(e,a,s){"use strict";s.d(a,{K:function(){return r},g:function(){return t}});let t={formal:{label:"Formal",emoji:"\uD83D\uDC54",description:"Tom profissional e cordial"},casual:{label:"Casual",emoji:"\uD83D\uDE0A",description:"Tom descontra\xeddo e amig\xe1vel"},direto:{label:"Direto",emoji:"\uD83C\uDFAF",description:"Objetivo e sem rodeios"},consultivo:{label:"Consultivo",emoji:"\uD83D\uDCA1",description:"Tom educativo e orientador"},amigavel:{label:"Amig\xe1vel",emoji:"\uD83E\uDD1D",description:"Pr\xf3ximo e acolhedor"},executivo:{label:"Executivo",emoji:"\uD83D\uDCBC",description:"Conciso e corporativo"}},r=[{key:"{{minha_empresa}}",description:"Sua empresa (quem envia)"},{key:"{{empresa}}",description:"Nome da empresa prospectada"},{key:"{{categoria}}",description:"Categoria/nicho do neg\xf3cio"},{key:"{{cidade}}",description:"Cidade do lead"},{key:"{{contato}}",description:"Nome do contato"},{key:"{{lead}}",description:"ID do lead (Lead-001, etc.)"}]},95443:function(e,a,s){"use strict";s.d(a,{IC:function(){return t},JS:function(){return i},Sx:function(){return r},pm:function(){return n}});let t={admin:{canCreate:!0,canUpdate:!0,canDelete:!0,canBulkDelete:!0,canExport:!0,canSendWhatsApp:!0,canManageRoles:!0,canViewAuditLogs:!0,canManageIntegrations:!0},operador:{canCreate:!0,canUpdate:!0,canDelete:!0,canBulkDelete:!1,canExport:!0,canSendWhatsApp:!0,canManageRoles:!1,canViewAuditLogs:!1,canManageIntegrations:!1},visualizador:{canCreate:!1,canUpdate:!1,canDelete:!1,canBulkDelete:!1,canExport:!0,canSendWhatsApp:!1,canManageRoles:!1,canViewAuditLogs:!1,canManageIntegrations:!1}},r={admin:"Administrador",operador:"Operador",visualizador:"Visualizador"},i={admin:"Acesso total ao sistema, incluindo gerenciamento de usu\xe1rios e configura\xe7\xf5es",operador:"Pode criar, editar e deletar leads. N\xe3o pode fazer altera\xe7\xf5es em massa",visualizador:"Apenas visualiza\xe7\xe3o e exporta\xe7\xe3o de dados. Sem permiss\xf5es de escrita"},n={admin:"bg-purple-500",operador:"bg-blue-500",visualizador:"bg-gray-500"}}},function(e){e.O(0,[457,918,318,250,923,400,763,981,713,706,115,72,668,871,971,117,744],function(){return e(e.s=52457)}),_N_E=e.O()}]);