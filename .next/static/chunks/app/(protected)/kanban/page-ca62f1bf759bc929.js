(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{4791:function(e,a,s){Promise.resolve().then(s.bind(s,38109))},38109:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return u}});var r=s(57437),n=s(2265),t=s(62741),i=s(51817),c=s(55736),l=s(1072),d=s(14362),o=s(14438);function u(){let{user:e}=(0,d.a)(),[a,s]=(0,n.useState)([]),[u,m]=(0,n.useState)(!0),x=(0,n.useCallback)(async()=>{if(!(null==e?void 0:e.id)){s([]),m(!1);return}m(!0);try{let{data:a,error:r}=await l.O.from("leads_prospeccao").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;s(a||[])}catch(e){console.error("Erro ao carregar leads:",e),o.Am.error("Erro ao carregar leads")}finally{m(!1)}},[null==e?void 0:e.id]);return((0,n.useEffect)(()=>{x()},[x]),u)?(0,r.jsx)("div",{className:"container mx-auto px-4 py-8 flex items-center justify-center min-h-[400px]",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)(i.Z,{className:"h-12 w-12 animate-spin text-primary"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Carregando Kanban Board..."})]})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8 animate-fade-in",children:[(0,r.jsxs)("h1",{className:"text-4xl font-bold mb-2 flex items-center gap-3",children:[(0,r.jsx)(c.Z,{className:"h-10 w-10 text-primary"}),"Kanban Board"]}),(0,r.jsx)("p",{className:"text-xl text-muted-foreground",children:"Visualize e gerencie seus leads arrastando entre as colunas"})]}),(0,r.jsx)("div",{className:"animate-fade-in",children:(0,r.jsx)(t.m,{leads:a,onLeadUpdate:x})})]})}}},function(e){e.O(0,[457,918,318,250,923,400,706,115,72,14,871,741,971,117,744],function(){return e(e.s=4791)}),_N_E=e.O()}]);