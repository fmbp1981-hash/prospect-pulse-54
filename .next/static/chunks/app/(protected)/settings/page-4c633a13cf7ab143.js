(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{5477:function(e,a,s){Promise.resolve().then(s.bind(s,32819))},32819:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return E}});var r=s(57437),t=s(2265),l=s(79820),n=s(75060),i=s(40279),o=s(12381),d=s(14438),c=s(51817),u=s(98728),m=s(98420),x=s(83229),p=s(53417),h=s(79205);let f=(0,h.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var j=s(42208),g=s(76284),y=s(9674),v=s(69174),N=s(15291),b=s(33804),w=s(84286),_=s(51884);let k=(0,h.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var S=s(1072),Z=s(95443);function C(){let[e,a]=(0,t.useState)([]),[s,n]=(0,t.useState)(!0),[i,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{u()},[]);let u=async()=>{n(!0);try{let{data:e,error:s}=await S.O.from("user_settings").select("user_id, role, created_at");if(s)throw s;let{data:{user:r}}=await S.O.auth.getUser(),t=(e||[]).map(e=>({id:e.user_id,email:e.user_id===(null==r?void 0:r.id)?r.email||"Voc\xea":e.user_id.substring(0,8)+"...",role:e.role||"operador",created_at:e.created_at||new Date().toISOString()}));a(t)}catch(e){console.error("Erro ao carregar usu\xe1rios:",e),d.Am.error("Erro ao carregar usu\xe1rios. Verifique suas permiss\xf5es.")}finally{n(!1)}},m=async(e,a)=>{o(e);try{let{error:s}=await S.O.from("user_settings").update({role:a}).eq("user_id",e);if(s)throw s;d.Am.success("Role alterado para ".concat(Z.Sx[a]," com sucesso")),u()}catch(e){console.error("Erro ao atualizar role:",e),d.Am.error("Erro ao atualizar role. Apenas administradores podem fazer essa a\xe7\xe3o.")}finally{o(null)}},x=e=>{let a={admin:w.Z,operador:_.Z,visualizador:j.Z}[e];return(0,r.jsx)(a,{className:"h-4 w-4"})};return s?(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(k,{className:"h-5 w-5"}),"Gerenciamento de Roles"]}),(0,r.jsx)(l.SZ,{children:"Gerencie permiss\xf5es de usu\xe1rios do sistema"})]}),(0,r.jsx)(l.aY,{children:(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)(c.Z,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}):(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(k,{className:"h-5 w-5"}),"Gerenciamento de Roles"]}),(0,r.jsx)(l.SZ,{children:"Gerencie permiss\xf5es de usu\xe1rios do sistema. Altera\xe7\xf5es s\xe3o registradas no log de auditoria."})]}),(0,r.jsxs)(l.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"rounded-lg bg-muted p-4 space-y-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm",children:"Tipos de Roles:"}),(0,r.jsx)("div",{className:"grid gap-2",children:Object.entries(Z.JS).map(e=>{let[a,s]=e;return(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsxs)(v.C,{className:"".concat(Z.pm[a]," text-white"),children:[x(a),(0,r.jsx)("span",{className:"ml-1",children:Z.Sx[a]})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground flex-1",children:s})]},a)})})]}),(0,r.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,r.jsxs)(b.iA,{children:[(0,r.jsx)(b.xD,{children:(0,r.jsxs)(b.SC,{children:[(0,r.jsx)(b.ss,{children:"Email"}),(0,r.jsx)(b.ss,{children:"Role Atual"}),(0,r.jsx)(b.ss,{children:"Cadastrado em"}),(0,r.jsx)(b.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,r.jsx)(b.RM,{children:0===e.length?(0,r.jsx)(b.SC,{children:(0,r.jsx)(b.pj,{colSpan:4,className:"text-center text-muted-foreground py-8",children:"Nenhum usu\xe1rio encontrado"})}):e.map(e=>(0,r.jsxs)(b.SC,{children:[(0,r.jsx)(b.pj,{className:"font-medium",children:e.email}),(0,r.jsx)(b.pj,{children:(0,r.jsxs)(v.C,{className:"".concat(Z.pm[e.role]," text-white gap-1"),children:[x(e.role),Z.Sx[e.role]]})}),(0,r.jsx)(b.pj,{className:"text-sm text-muted-foreground",children:new Date(e.created_at).toLocaleDateString("pt-BR")}),(0,r.jsx)(b.pj,{className:"text-right",children:(0,r.jsxs)(N.Ph,{value:e.role,onValueChange:a=>m(e.id,a),disabled:i===e.id,children:[(0,r.jsx)(N.i4,{className:"w-[180px] ml-auto",children:(0,r.jsx)(N.ki,{placeholder:"Alterar role"})}),(0,r.jsxs)(N.Bw,{children:[(0,r.jsx)(N.Ql,{value:"admin",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(w.Z,{className:"h-4 w-4"}),"Administrador"]})}),(0,r.jsx)(N.Ql,{value:"operador",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(_.Z,{className:"h-4 w-4"}),"Operador"]})}),(0,r.jsx)(N.Ql,{value:"visualizador",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(j.Z,{className:"h-4 w-4"}),"Visualizador"]})})]})]})})]},e.id))})]})}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground bg-blue-50 dark:bg-blue-950 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,r.jsx)("strong",{children:"\uD83D\uDCA1 Importante:"})," Apenas administradores podem gerenciar roles. Todas as altera\xe7\xf5es s\xe3o registradas no log de auditoria e podem ser visualizadas na p\xe1gina de Integra\xe7\xf5es."]})]})]})}function E(){let[e,a]=(0,t.useState)(!0),[s,h]=(0,t.useState)(!1),[v,N]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),[_,k]=(0,t.useState)(""),[S,Z]=(0,t.useState)(""),[E,A]=(0,t.useState)(!1);(0,t.useEffect)(()=>{z()},[]);let z=async()=>{a(!0);try{let e=await g.T.getUserSettings();e&&(N(e.company_name||""),w(e.evolution_api_url||""),k(e.evolution_api_key||""),Z(e.evolution_instance_name||""))}catch(e){console.error("Erro ao carregar configura\xe7\xf5es:",e),d.Am.error("Erro ao carregar configura\xe7\xf5es")}finally{a(!1)}},M=async()=>{if(!v.trim()){d.Am.error("Por favor, preencha o nome da sua empresa");return}h(!0);try{await g.T.saveUserSettings({company_name:v,evolution_api_url:b,evolution_api_key:_,evolution_instance_name:S}),d.Am.success("Configura\xe7\xf5es salvas com sucesso!",{description:"Suas configura\xe7\xf5es foram atualizadas"})}catch(e){console.error("Erro ao salvar configura\xe7\xf5es:",e),d.Am.error("Erro ao salvar configura\xe7\xf5es")}finally{h(!1)}};return e?(0,r.jsx)("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:(0,r.jsx)(c.Z,{className:"h-8 w-8 animate-spin text-primary"})}):(0,r.jsxs)("div",{className:"container max-w-4xl mx-auto py-8 space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[(0,r.jsx)(u.Z,{className:"h-8 w-8 text-primary"}),"Configura\xe7\xf5es"]}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Configure as informa\xe7\xf5es da sua empresa para personalizar os templates"})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"h-5 w-5 text-primary"}),(0,r.jsx)(l.ll,{children:"Informa\xe7\xf5es da Empresa"})]}),(0,r.jsx)(l.SZ,{children:"Essas informa\xe7\xf5es ser\xe3o usadas para substituir as vari\xe1veis nos templates de mensagens"})]}),(0,r.jsxs)(l.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(n._,{htmlFor:"company_name",children:["Nome da Sua Empresa ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(i.I,{id:"company_name",placeholder:"Ex: IntelliX Solutions",value:v,onChange:e=>N(e.target.value),className:"max-w-md"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Esse nome ser\xe1 usado na vari\xe1vel ",(0,r.jsx)("code",{className:"bg-muted px-1 rounded",children:"{{minha_empresa}}"})," nos templates"]})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-yellow-900 dark:text-yellow-100 mb-2",children:"\uD83D\uDCA1 Como usar nos templates:"}),(0,r.jsxs)("div",{className:"space-y-1 text-xs text-yellow-800 dark:text-yellow-200",children:[(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("code",{className:"bg-yellow-100 dark:bg-yellow-900 px-1 rounded",children:"{{minha_empresa}}"})," = ",v||"Sua empresa"]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("code",{className:"bg-yellow-100 dark:bg-yellow-900 px-1 rounded",children:"{{empresa}}"})," = Nome da empresa prospectada"]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("code",{className:"bg-yellow-100 dark:bg-yellow-900 px-1 rounded",children:"{{categoria}}"})," = Categoria do lead"]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("code",{className:"bg-yellow-100 dark:bg-yellow-900 px-1 rounded",children:"{{cidade}}"})," = Cidade do lead"]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("code",{className:"bg-yellow-100 dark:bg-yellow-900 px-1 rounded",children:"{{contato}}"})," = Nome do contato (se dispon\xedvel)"]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:"\uD83D\uDCDD Exemplo de mensagem:"}),(0,r.jsx)("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-white dark:bg-blue-950 p-3 rounded border border-blue-200 dark:border-blue-800",children:(0,r.jsxs)("p",{className:"whitespace-pre-wrap",children:["Ol\xe1! Sou da ",(0,r.jsx)("strong",{children:v||"Sua Empresa"}),".",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Notei que a ",(0,r.jsx)("strong",{children:"{{empresa}}"})," em ",(0,r.jsx)("strong",{children:"{{cidade}}"})," atua no ramo de ",(0,r.jsx)("strong",{children:"{{categoria}}"}),".",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Podemos ajudar a impulsionar seus resultados. Posso apresentar nossa solu\xe7\xe3o?"]})})]}),(0,r.jsx)("div",{className:"flex gap-3",children:(0,r.jsx)(o.z,{onClick:M,disabled:s||!v.trim(),className:"min-w-32",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Salvar Configura\xe7\xf5es"]})})})]})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.Z,{className:"h-5 w-5 text-primary"}),(0,r.jsx)(l.ll,{children:"Evolution API - WhatsApp"})]}),(0,r.jsx)(l.SZ,{children:"Configure sua inst\xe2ncia da Evolution API para verifica\xe7\xe3o e envio de mensagens WhatsApp"})]}),(0,r.jsxs)(l.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(n._,{htmlFor:"evolution_instance_name",children:"Nome da Inst\xe2ncia"}),(0,r.jsx)(i.I,{id:"evolution_instance_name",placeholder:"Ex: WA-Pessoal, WA-Producao",value:S,onChange:e=>Z(e.target.value),className:"max-w-md"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nome identificador da sua inst\xe2ncia no Evolution API"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(n._,{htmlFor:"evolution_api_url",children:"URL da API"}),(0,r.jsx)(i.I,{id:"evolution_api_url",placeholder:"Ex: https://evolution.intellixai.com.br/chat/whatsappNumbers/WA-Pessoal",value:b,onChange:e=>w(e.target.value),className:"max-w-2xl"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"URL completa do endpoint da Evolution API incluindo a inst\xe2ncia"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(n._,{htmlFor:"evolution_api_key",children:"API Key"}),(0,r.jsxs)("div",{className:"relative max-w-2xl",children:[(0,r.jsx)(i.I,{id:"evolution_api_key",type:E?"text":"password",placeholder:"Sua chave de API da Evolution",value:_,onChange:e=>k(e.target.value),className:"pr-10"}),(0,r.jsx)(o.z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>A(!E),children:E?(0,r.jsx)(f,{className:"h-4 w-4 text-muted-foreground"}):(0,r.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Chave de autentica\xe7\xe3o da Evolution API"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:"\uD83D\uDCA1 Como configurar:"}),(0,r.jsxs)("div",{className:"space-y-1 text-xs text-blue-800 dark:text-blue-200",children:[(0,r.jsxs)("p",{children:["1. ",(0,r.jsx)("strong",{children:"Teste"}),": Use a inst\xe2ncia atual para testes iniciais"]}),(0,r.jsxs)("p",{children:["2. ",(0,r.jsx)("strong",{children:"Produ\xe7\xe3o"}),": Quando estiver pronto, altere para a inst\xe2ncia de produ\xe7\xe3o"]}),(0,r.jsx)("p",{children:"3. As configura\xe7\xf5es s\xe3o salvas por usu\xe1rio e aplicadas automaticamente nas pr\xf3ximas prospec\xe7\xf5es"})]})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-yellow-900 dark:text-yellow-100 mb-2",children:"⚠️ Seguran\xe7a:"}),(0,r.jsx)("div",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:(0,r.jsx)("p",{children:"Suas credenciais s\xe3o armazenadas de forma segura e apenas voc\xea tem acesso a elas."})})]})]})]}),(0,r.jsx)(y.p,{allowedRoles:["admin"],children:(0,r.jsx)(C,{})})]})}},98420:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});let r=(0,s(79205).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},42208:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});let r=(0,s(79205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},53417:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});let r=(0,s(79205).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},83229:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});let r=(0,s(79205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},98728:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});let r=(0,s(79205).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},84286:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});let r=(0,s(79205).Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},51884:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});let r=(0,s(79205).Z)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]])},9674:function(e,a,s){"use strict";s.d(a,{p:function(){return l}});var r=s(57437),t=s(91696);function l(e){let{children:a,allowedRoles:s,requiredPermission:l,fallback:n=null,inverse:i=!1}=e,{role:o,hasPermission:d,isLoading:c}=(0,t.j)();if(c)return null;let u=!1;return s&&s.length>0&&(u=s.includes(o)),l&&(u=d(l)),s||l||(u=!0),i&&(u=!u),u?(0,r.jsx)(r.Fragment,{children:a}):(0,r.jsx)(r.Fragment,{children:n})}},15291:function(e,a,s){"use strict";s.d(a,{Bw:function(){return h},Ph:function(){return c},Ql:function(){return f},i4:function(){return m},ki:function(){return u}});var r=s(57437),t=s(2265),l=s(74797),n=s(40875),i=s(22135),o=s(30401),d=s(93448);let c=l.fC;l.ZA;let u=l.B4,m=t.forwardRef((e,a)=>{let{className:s,children:t,...i}=e;return(0,r.jsxs)(l.xz,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[t,(0,r.jsx)(l.JO,{asChild:!0,children:(0,r.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.xz.displayName;let x=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=l.u_.displayName;let p=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})})});p.displayName=l.$G.displayName;let h=t.forwardRef((e,a)=>{let{className:s,children:t,position:n="popper",...i}=e;return(0,r.jsx)(l.h_,{children:(0,r.jsxs)(l.VY,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[(0,r.jsx)(x,{}),(0,r.jsx)(l.l_,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(p,{})]})})});h.displayName=l.VY.displayName,t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t})}).displayName=l.__.displayName;let f=t.forwardRef((e,a)=>{let{className:s,children:t,...n}=e;return(0,r.jsxs)(l.ck,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(l.eT,{children:t})]})});f.displayName=l.ck.displayName,t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...t})}).displayName=l.Z0.displayName},76284:function(e,a,s){"use strict";s.d(a,{T:function(){return t}});var r=s(1072);let t={async getUserSettings(){try{let{data:{user:e}}=await r.O.auth.getUser();if(!e)throw Error("Usu\xe1rio n\xe3o autenticado");let{data:a,error:s}=await r.O.from("user_settings").select("*").eq("user_id",e.id).single();if(s){if("PGRST116"===s.code)return{company_name:"",evolution_api_url:"",evolution_api_key:"",evolution_instance_name:""};throw s}return a}catch(e){return console.error("Erro ao buscar configura\xe7\xf5es:",e),{company_name:"",evolution_api_url:"",evolution_api_key:"",evolution_instance_name:""}}},async saveUserSettings(e){try{let{data:{user:a}}=await r.O.auth.getUser();if(!a)throw Error("Usu\xe1rio n\xe3o autenticado");let{data:s}=await r.O.from("user_settings").select("id").eq("user_id",a.id).single();if(s){let{data:s,error:t}=await r.O.from("user_settings").update({company_name:e.company_name,evolution_api_url:e.evolution_api_url,evolution_api_key:e.evolution_api_key,evolution_instance_name:e.evolution_instance_name,updated_at:new Date().toISOString()}).eq("user_id",a.id).select().single();if(t)throw t;return s}{let{data:s,error:t}=await r.O.from("user_settings").insert({user_id:a.id,company_name:e.company_name,evolution_api_url:e.evolution_api_url,evolution_api_key:e.evolution_api_key,evolution_instance_name:e.evolution_instance_name}).select().single();if(t)throw t;return s}}catch(e){throw console.error("Erro ao salvar configura\xe7\xf5es:",e),e}}}},29114:function(e,a,s){"use strict";s.d(a,{gm:function(){return l}});var r=s(2265);s(57437);var t=r.createContext(void 0);function l(e){let a=r.useContext(t);return e||a||"ltr"}},370:function(e,a,s){"use strict";s.d(a,{f:function(){return o}});var r=s(2265);s(54887);var t=s(37053),l=s(57437),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let s=(0,t.Z8)(`Primitive.${a}`),n=r.forwardRef((e,r)=>{let{asChild:t,...n}=e,i=t?s:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(i,{...n,ref:r})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{}),i=r.forwardRef((e,a)=>(0,l.jsx)(n.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var o=i}},function(e){e.O(0,[457,918,318,250,923,400,763,713,115,177,971,117,744],function(){return e(e.s=5477)}),_N_E=e.O()}]);